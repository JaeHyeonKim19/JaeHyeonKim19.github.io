{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["IndexPage","data","title","allMarkdownRemark","edges","map","node","stringNewPathNodes","pathNodes","fileAbsolutePath","split","newPathNodes","length","fileName","pureFileName","substring","push","frontmatter","date","join","makeStringNewPathNodes","key","id","to","excerpt"],"mappings":"qLAoEeA,UA7DG,WAmBhB,IAAMC,EAAI,OAmBV,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,MAAM,SACX,6CACA,4BACGD,EAAKE,kBAAkBC,MAAMC,KAAI,YAAe,IAAZC,EAAW,EAAXA,KAC7BC,EAvBd,SAAgCD,GAC9B,IAAME,EAAYF,EAAKG,iBAAiBC,MAAM,KACxCC,EAAe,GACrB,GAAyB,IAArBH,EAAUI,OAAc,CAC1B,IAAMC,EAAWL,EAAUA,EAAUI,OAAS,GACxCE,EAAeD,EAASE,UAAU,EAAGF,EAASD,OAAS,GAC7DD,EAAaK,KAAKR,EAAUA,EAAUI,OAAS,IAC/CD,EAAaK,KAAKF,GAClBH,EAAaK,KAAKV,EAAKW,YAAYC,WAEnCP,EAAaK,KAAKR,EAAUA,EAAUI,OAAS,IAC/CD,EAAaK,KAAKR,EAAUA,EAAUI,OAAS,IAC/CD,EAAaK,KAAKV,EAAKW,YAAYC,MAErC,OAAOP,EAAaQ,KAAK,KASQC,CAAuBd,GAClD,OACE,wBAAIe,IAAKf,EAAKgB,IACZ,4BACE,kBAAC,OAAD,CAAMC,GAAIhB,GAAqBD,EAAKW,YAAYf,QAElD,4BAAKI,EAAKW,YAAYC,MACtB,2BAAIZ,EAAKkB,SACT,qC","file":"component---src-pages-index-js-a868f586f23115305dc5.js","sourcesContent":["import React from 'react';\nimport { Link, useStaticQuery, graphql } from 'gatsby';\n\nimport Layout from '../components/common/layout';\n// import Image from '../components/common/image';\nimport SEO from '../components/common/seo';\n\nconst IndexPage = () => {\n  const query = graphql`\n    {\n      allMarkdownRemark(sort: { order: DESC, fields: frontmatter___date }) {\n        edges {\n          node {\n            excerpt(truncate: true, pruneLength: 200)\n            frontmatter {\n              title\n              path\n              date\n            }\n            id\n            fileAbsolutePath\n          }\n        }\n      }\n    }\n  `;\n  const data = useStaticQuery(query);\n\n  function makeStringNewPathNodes(node) {\n    const pathNodes = node.fileAbsolutePath.split('/');\n    const newPathNodes = [];\n    if (pathNodes.length === 9) {\n      const fileName = pathNodes[pathNodes.length - 1];\n      const pureFileName = fileName.substring(0, fileName.length - 3);\n      newPathNodes.push(pathNodes[pathNodes.length - 2]);\n      newPathNodes.push(pureFileName);\n      newPathNodes.push(node.frontmatter.date);\n    } else {\n      newPathNodes.push(pathNodes[pathNodes.length - 3]);\n      newPathNodes.push(pathNodes[pathNodes.length - 2]);\n      newPathNodes.push(node.frontmatter.date);\n    }\n    return newPathNodes.join('/');\n  }\n\n  return (\n    <Layout>\n      <SEO title=\"Home\" />\n      <h1>최근 작성한 게시글 목록</h1>\n      <ul>\n        {data.allMarkdownRemark.edges.map(({ node }) => {\n          const stringNewPathNodes = makeStringNewPathNodes(node);\n          return (\n            <li key={node.id}>\n              <h2>\n                <Link to={stringNewPathNodes}>{node.frontmatter.title}</Link>\n              </h2>\n              <h3>{node.frontmatter.date}</h3>\n              <p>{node.excerpt}</p>\n              <hr />\n            </li>\n          );\n        })}\n      </ul>\n    </Layout>\n  );\n};\n\nexport default IndexPage;\n"],"sourceRoot":""}