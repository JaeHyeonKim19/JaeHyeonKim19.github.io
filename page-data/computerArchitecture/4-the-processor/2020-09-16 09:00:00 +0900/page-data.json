{"componentChunkName":"component---src-templates-post-template-jsx","path":"/computerArchitecture/4-the-processor/2020-09-16 09:00:00 +0900","result":{"pageContext":{"html":"<blockquote>\n<p>본 글은 영남대학교 최규상 교수님의 <a href=\"http://www.kocw.net/home/cview.do?cid=184062fa9a833237\">컴퓨터 구조</a> 강의를 듣고 작성된 글입니다.</p>\n</blockquote>\n<h3>4.1 Introduction</h3>\n<ul>\n<li>\n<p>CPU performance factors</p>\n<ul>\n<li>\n<p>Instruction count</p>\n<ul>\n<li>Determined by ISA and compiler</li>\n</ul>\n</li>\n<li>\n<p>CPI and Cycle time</p>\n<ul>\n<li>Determined by CPU hardware</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>We will examine two MIPS implementations</p>\n<ul>\n<li>A simplified version</li>\n<li>A more realistic pipelined version</li>\n</ul>\n</li>\n<li>\n<p>Instruction Execution</p>\n<ul>\n<li>PC (program counter) -> instruction memory, fetch instruction</li>\n<li>Register numbers -> register file, read registers</li>\n<li>\n<p>Depending on instruction class</p>\n<ul>\n<li>\n<p>Use ALU to calculate</p>\n<ul>\n<li>Arithmetic result</li>\n<li>Memory address for load/store</li>\n<li>Branch target address</li>\n</ul>\n</li>\n<li>Access data memory for load/sotre</li>\n<li>PC &#x3C;- target address or PC + 4</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>CPU Overview\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 429px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b89922aa8d85a89bbae205e209e0725b/3d026/cpu-overview.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQoz22Sba+CMAyF9///nInfTMxFg28o+IY4QFnvnrIt6L2LTWtZT89pZ5xz8nq9/tj7/U4+WjzU+F+I5eOYtm2laRqx1srz+Uye3Pl8lsfjkazrugkgSAF4AmoAcG5Iib7vpfbFNAKwrmttYu3YbAr4nylglDMMIzDs9vu9gvGtKAq53W7p3pfKj1EoIEBNM8q0rZXyVEpVVSr9fr8roAvDGrwfQvzNLs2Q4ddhRkjuWu99XJWlyobd9XpNM6Xx5XJRBcQ0JqZWGcYF0AVZ0R+PR1mv18qSQ2OA4iIhgDqA+E/egJ7nuaxWq7RJPgKSZZkUh4NsN1u9wxgogg2NDv5b6VXEuWMGJlxkTiyCC4DFRrvdTplSPH1GxNyhdrlcplEY5EGZxHw+l9lslt4bTbLsRzabXKXRfLFYyPjUnOYAhS2sqTNxWzqLsBRMF+UvsQwYE2MwBQQCsI/zjcs105V/H5qkzXtPEXEiEPKRBPlfQYajyiL6OSkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cpu-overview\"\n        title=\"cpu-overview\"\n        src=\"/static/b89922aa8d85a89bbae205e209e0725b/3d026/cpu-overview.png\"\n        srcset=\"/static/b89922aa8d85a89bbae205e209e0725b/772e8/cpu-overview.png 200w,\n/static/b89922aa8d85a89bbae205e209e0725b/e17e5/cpu-overview.png 400w,\n/static/b89922aa8d85a89bbae205e209e0725b/3d026/cpu-overview.png 429w\"\n        sizes=\"(max-width: 429px) 100vw, 429px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h3>4.2 Logic Design Conventions</h3>\n<ul>\n<li>\n<p>Loginc Design Basics</p>\n<ul>\n<li>\n<p>Information encoded in binary</p>\n<ul>\n<li>Low voltage = 0, High voltage = 1</li>\n<li>One wire per bit</li>\n<li>Multi-bit data encoded on multi-wire buses</li>\n</ul>\n</li>\n<li>\n<p>Combinational element</p>\n<ul>\n<li>Operate on data</li>\n<li>Output is a function of input</li>\n</ul>\n</li>\n<li>\n<p>State (sequential) elements</p>\n<ul>\n<li>Store information</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Clocking Methodology</p>\n<ul>\n<li>\n<p>Combinational logic transforms data during clcock cycles</p>\n<ul>\n<li>Between clock edges</li>\n<li>Input from state elements, output to state element</li>\n<li>Longest delay determines clock period</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>4.3 Building a Datapath</h3>\n<ul>\n<li>\n<p>Building a Datapath</p>\n<ul>\n<li>\n<p>Datapath</p>\n<ul>\n<li>\n<p>Elements that process data and addresses in the CPU</p>\n<ul>\n<li>Registers, ALUs, mux's, memories, ...</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>We will build a MIPS datapath incrementally</p>\n<ul>\n<li>Refining the overview design</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>R-Format Instructions</p>\n<ul>\n<li>Read two register operands</li>\n<li>Perform arithmetic/logical operation</li>\n<li>Write register result</li>\n</ul>\n</li>\n<li>\n<p>Load/Store Instructions</p>\n<ul>\n<li>Read register operands</li>\n<li>\n<p>Calculate address using 16-bit offset</p>\n<ul>\n<li>Use ALU, but <a href=\"https://en.wikipedia.org/wiki/Sign_extension\">sign-extend</a> offset</li>\n</ul>\n</li>\n<li>Load: Read memory and update register</li>\n<li>Store: Write register value to memory</li>\n</ul>\n</li>\n<li>\n<p>Branch Instructions</p>\n<ul>\n<li>Read register operands</li>\n<li>\n<p>Compare operands</p>\n<ul>\n<li>Use ALU, subtract and check Zero output</li>\n</ul>\n</li>\n<li>\n<p>Calculate target address</p>\n<ul>\n<li>Sign-extend displacement</li>\n<li>Shift left 2 places (word displacement)</li>\n<li>Add to PC + 4\nAlready calculated by instruction fetch</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Full Datapath\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 417px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/069f921ccac37f5f72be3577f48a2639/f27fb/full-datapath.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB4ElEQVQ4y21T25KqMBDk/z/PF6u8IsiChksgIAhqn+nhxGXXTdVIYiY9091J8Hw+wXi9Xhp+vYzfe7KA/MxzznQ9j2AYBtzvdzjncLvdME0TxnH8EX3fazB3GHrY2uFaWDRy5gOQAF3XoW1bWGsVnJUfj4d+CcT/WbCqKs3tBficfCHP809AdsDK0zSiKAo0TaMg7JZfAnkWdV1rjrUVLpeL5n4AMtFTIvhfgwcPhwNKATPXKxoBZu5SXw8akCrDC+4lYAEW4/pyNTidYnTS9TBOuI8PvP4oTNAgSRIcj0dst1ulR0qbzUbn1JH7aWZgyhqldbDuhrqTQrLXtAOKWqQZJlnPjgfshofZDUUnAOnFcaxUsyxFWZaiIzW0ol2GIjeqp3Mt8qKCqRy6fpYr4A/prddrrFYrpGmqHYfhEVfRKwxDLXA+JwoShidEUaTOt63Tgl/JWWV7A5IaXSMAY7/fi05zRSZSjizL1HmawY7JiHOy4BkWU8Cl5RxVVaKwrVzcRgB6Maj9DzC+jYqiWEyKtHuyYUPcU1O8O/5pGWPUZV7a3W6nWvrqfhjRLU5zeSmt6NjAX7034PJyEsy/FNL8DTZL9P08ea04KMdbw+XF5MbsoFN9GMu5Xy/Dvy6Of94COrOxJHd4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"full-datapath\"\n        title=\"full-datapath\"\n        src=\"/static/069f921ccac37f5f72be3577f48a2639/f27fb/full-datapath.png\"\n        srcset=\"/static/069f921ccac37f5f72be3577f48a2639/772e8/full-datapath.png 200w,\n/static/069f921ccac37f5f72be3577f48a2639/e17e5/full-datapath.png 400w,\n/static/069f921ccac37f5f72be3577f48a2639/f27fb/full-datapath.png 417w\"\n        sizes=\"(max-width: 417px) 100vw, 417px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h3>4.4 A Simple Implement Scheme</h3>\n<ul>\n<li>\n<p>ALU Control</p>\n<ul>\n<li>\n<p>ALU used for</p>\n<ul>\n<li>Load/Store: F = add</li>\n<li>Branch: F = subtract</li>\n<li>R-type: F depends on funct field\n|ALU control|Function|\n|---|---|\n|0000|AND|\n|0001|OR|\n|0010|add|\n|0110|substract|\n|0111|set-on-less-than|\n|1100|NOR|</li>\n</ul>\n</li>\n<li>\n<p>Assume 2-bit ALUOp derived from opcode</p>\n<ul>\n<li>Combinational logic derives ALU control\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 423px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d42922ef11117e11e24c073a8dc5ba9d/f687d/alu-control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABMElEQVQozz2Si66CQAxE+f+/IyoiKCrKWxAEIRCTuTlN9m7SAG1nOrPFK4pCh8NBWZbpfr8rCAJdLhedTiedz2fVda2qqpSmqdWJOI51PB6V57lut5v1R1Gk5/MpL0kSS47jaKQUrterdrudNU7TpK7rbCjDGAKwaRq9328b6DCPx0MeLyS3bTMlkBJhGBpB3/cG3O/3pgpClC3LYiKoo5oceA92gCghwRRnnWE0AkIxpNjlOsh9Ph+1bfuvrixLeZC8Xi/9fj99v1+t62p2uAqGoBwl2IcM9YBRSEBKDpeEhx13AHKY5Pu+TZ/n2Sxj11nmSS/B/TIMV2aZhDuAORRYFN+AhmEwIrdAHFAjj3Vy/C1mGbsoQDqSaWKL3JPbLJYggxQwC0MlPZDwS7ml/AFxOk7yQ2qVdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alu-control\"\n        title=\"alu-control\"\n        src=\"/static/d42922ef11117e11e24c073a8dc5ba9d/f687d/alu-control.png\"\n        srcset=\"/static/d42922ef11117e11e24c073a8dc5ba9d/772e8/alu-control.png 200w,\n/static/d42922ef11117e11e24c073a8dc5ba9d/e17e5/alu-control.png 400w,\n/static/d42922ef11117e11e24c073a8dc5ba9d/f687d/alu-control.png 423w\"\n        sizes=\"(max-width: 423px) 100vw, 423px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>The Main Control Unit</p>\n<ul>\n<li>Control signals derived from instruction\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 445px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ebcf25a27a068a52d00d24fd39146feb/e66bf/the-main-control-unit.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACWElEQVQozz2R208TURDG+5eb+OiriU/64IMRNcEQgyhIoEBpuFgKSq3Qlm6323Zv3fv23v0550A8yeyZPZnvm2++KS2WS5YS0+mUyWSi7yzLdJ7n+ePbbEruh6S2ryN2x0RxTJIkpGlKLLmqK4qC0tC0sAdD0ixlMBjgui5BEGAYhs5938eyLELLpmea2P0BgweDWr3OcDTEGlg0Gg3CMGS9XlNisYblipX8KLDqqhTbtq27ZqLA9TyyJGXYaJGKukU2JeiPmAcJkzQjfsJohY3mHxxRogharZYOpdRxHP2mmviuh2c7eE/EVrPNVe2KjtSG5og4ivB871Gh2zaYRAmz+Ryj29VESlmv19PeKK/Mhy6RAKMkZjabkXshw7sOY3NAZHvaa/WuFc6XC72IXBahOimSWIBj8VGRaVIZKRyJn44rC5oRxpFu6In6UDDK/1SUF2shtEShM7LJpXDo2HqsSIoMUeVLPhaQafQIXR/XsLQaZcHN9Y1MZOBJk1QaxmnCWilkuqBIp6y8iLDVIzNGLJ2A4N5gZjqkTYPots2y7zExbNZRBvOCpdxqKZmMrDh0yHJLBXIWKzoC+rB/zPbJGZXyBe8OTijXflM9vOTr5h7ddp8oy9k6vWCzcs610SeTqbbOfvKpXGVj7wjT8YSw0JQEoqZ5c0/voU+1es2rzR12q3U+fjnk+cu3XP66w8snvNja5dn7z2zXb0nkf6Nyyeudfd78OKYrtpRkNWhK9XkiL+YLVjLOKs45O7jg+7dj+m1Ttj/jtFLjqHzO32aHx1Pw/wj+H6xGMNxtSCNkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"the-main-control-unit\"\n        title=\"the-main-control-unit\"\n        src=\"/static/ebcf25a27a068a52d00d24fd39146feb/e66bf/the-main-control-unit.png\"\n        srcset=\"/static/ebcf25a27a068a52d00d24fd39146feb/772e8/the-main-control-unit.png 200w,\n/static/ebcf25a27a068a52d00d24fd39146feb/e17e5/the-main-control-unit.png 400w,\n/static/ebcf25a27a068a52d00d24fd39146feb/e66bf/the-main-control-unit.png 445w\"\n        sizes=\"(max-width: 445px) 100vw, 445px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>Datapath With Control\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 365px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/73534d5c152087298dc1c2922906c363/2e8d1/datapath-with-control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACcklEQVQ4y2VU2ZLaQAzk/z8q+YBUNps8LQsGjI1ve8b3TUct1oSqTJVq7LFGarVa3k3TBNqyLLrP84zt7NV4Tp/Ntnd+u9/v4OK+6/setLqu0TQNlnXF/evjZlzDMKAsS1RVpX68Y4xBnufPYFw7OtKBexzHsNbqc9932JLRiqLQvWlaeTb6TP8gCJ4BFSEvt22rxux106Fp5WI3oJa97UctjYs+xhRIkhi+78HYEr3c/y8gEfJlWe8Y5xXbmpcVt7SCl1RY5ZvrXnE8ntB2Um7ZoKh68X8ku3/deQZc10UPkzTH7eaLBchMhf21wPe3Kw7XDElew1QjUtMizGokpkHZDLBiZdMLgOVfycwhIGDLWkqcMY4TerFPr8C3n64G9GPhbpzRDhNMLY3sRozTovBs1WGSzu8YjIQz8DTNyHIjz72+t10Hx4txCYygK+FFhdKiXRffQYJrQFlWEkxS/o5SOJ/PcBxH0JU4CEfH4wGXy0XIT/W8tAXcq9AQZSilcaNojygnCbYFZOmKkAKlBLIsw9E5wTldYEVfvu9L4KMGpDyckwsvSFRWtyDE2fVVl3GcIE1T5LZ6cLh11HGO+PX+G6eziziKNMHHfo+9WEXkzhk/3v4gCkOVi+u6T5FTi/vPg6AVhJt+iJRmpCnU3jCtyIoHUiYgoo/DGXVVIsqs0JEgknNSQ1UUxirnu9fx4uI40ZGNoog5WofDp3B4QyyBUkvJVIrO82/KLcvWYWi7R8mvQTnsnWQax1HLJn9xHCGV7rMpflKqXF7Fz87XEoxT8+TwdcC3RX6unodQOLqFMm5hJpS0T3oef5xZh4JSI5i/Iod+7OuFRYoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"datapath-with-control\"\n        title=\"datapath-with-control\"\n        src=\"/static/73534d5c152087298dc1c2922906c363/2e8d1/datapath-with-control.png\"\n        srcset=\"/static/73534d5c152087298dc1c2922906c363/772e8/datapath-with-control.png 200w,\n/static/73534d5c152087298dc1c2922906c363/2e8d1/datapath-with-control.png 365w\"\n        sizes=\"(max-width: 365px) 100vw, 365px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Performance Issues</p>\n<ul>\n<li>\n<p>Longest delay determines clock period</p>\n<ul>\n<li>Critical path: load instruction</li>\n<li>Instruction memory -> register file -> ALU -> data memory -> register file</li>\n</ul>\n</li>\n<li>Not feasible to vary period for different instructions</li>\n<li>\n<p>Violates design principle</p>\n<ul>\n<li>Making the common case fast</li>\n</ul>\n</li>\n<li>We will improve performance by pipelining</li>\n</ul>\n</li>\n</ul>\n<h3>4.5 An Overview of Pipelining</h3>\n<ul>\n<li>\n<p>Pipelined laundry: overlapping execution</p>\n<ul>\n<li>Parallelism improves performance</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 422px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e1ce18c6601ff14782ea1c6d50ac104f/fa5c1/pipelining-analogy.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABoElEQVQoz32SWU/jMBSF8///ARqJF554HKksQkIMEotAakNpp80CpW0oDd2S1LETZ+nB16KhlOVKliXn+jvnXMcoyxJZlmHJYhTFCrFIwRhHuIwR80Sdc73HMYeUEt/VarWqdkMIjvl8DtPy8L/zAKfnKYDEPOQIIo7pguHlNUAUMSVYoCxzzGYzBEEA3/chhKhgGkhNdGg9+QrYxb/rO3QsF81mCyJJIROx5aZAtFzCcRzU63WMx+PPQIq8VqEKWYowDHHbdNBodnF6fgX7cQjbspHnedU3Go1g2zYGg4F2W0UmYJqm2g253a5FJPA4eIHrunqGZZkpSB+9Xk8vur9ZOrJUQKf/iuMrF2eX9+qCB865FspkStpabP0omXJKAo1GA8PhUEPpG/UYSZKogUfw/ACtVhfmXQeLIFJNxXuMj/lsvuhkMoFpmrAsS0Pb7baObtBc8kziptXHn72/ODk+qmZFymvYNpQckRHGmPqlYkynU32mI1M8qsOLLnZ291GrHVTz/A72WxnUkL9fllmBZ38BT0VIkvQLYBP603oDG3j9z2xdKJcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"piplelining-analogy\"\n        title=\"piplelining-analogy\"\n        src=\"/static/e1ce18c6601ff14782ea1c6d50ac104f/fa5c1/pipelining-analogy.png\"\n        srcset=\"/static/e1ce18c6601ff14782ea1c6d50ac104f/772e8/pipelining-analogy.png 200w,\n/static/e1ce18c6601ff14782ea1c6d50ac104f/e17e5/pipelining-analogy.png 400w,\n/static/e1ce18c6601ff14782ea1c6d50ac104f/fa5c1/pipelining-analogy.png 422w\"\n        sizes=\"(max-width: 422px) 100vw, 422px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>\n<p>MIPS Pipeline</p>\n<ul>\n<li>\n<p>Five stages, one step per stage</p>\n<ol>\n<li>IF: Instruction fetch from memory</li>\n<li>ID: Instruction decode &#x26; register read</li>\n<li>EX: Execute operation or calculate address</li>\n<li>MEM: Access memory operand</li>\n<li>WB: Write result back to register</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>Pipeline Performance</p>\n<ul>\n<li>\n<p>Assume time for stages is</p>\n<ul>\n<li>100ps for register read or write</li>\n<li>200ps for other stages</li>\n</ul>\n</li>\n<li>Compare pipelined datapath with single-cycle datapath</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 436px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1f16d420a2590116dac200ac1436ba8f/8574c/pipeline-performance.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABDklEQVQY0z2QuW6FQAxF+f8/SJ8/SJcySpOKArHvO2/YVyGaG64VUowYPPbxsbUwDDFNE6IogmVZcBwHruvCMAzEcQy++76PqqrkjSfLMpimKacsSwS+B9exkd9xbV1X7PsOpRS6rsM4jv+FvDPe9700ZUNC2raFrutI7objHU/KClndIC1KaNu24TxPMbRtG/xP01SsCPQ8TyyXZRHYM1GcJFBNg7hq8PbxifevH3xbHjQaMJnjEUjjoigQBIEACeb9yeGIBPKwOXOsu44rGYYBGs3yPBdDGhDIHdHsMSSUwOM4cF2XxJPb8IFw33X9B6QNIc/I3BeBhNCedrwzTtA8zxLnl01eLyV1lGLOLyPst3er8pPJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipeline-performance\"\n        title=\"pipeline-performance\"\n        src=\"/static/1f16d420a2590116dac200ac1436ba8f/8574c/pipeline-performance.png\"\n        srcset=\"/static/1f16d420a2590116dac200ac1436ba8f/772e8/pipeline-performance.png 200w,\n/static/1f16d420a2590116dac200ac1436ba8f/e17e5/pipeline-performance.png 400w,\n/static/1f16d420a2590116dac200ac1436ba8f/8574c/pipeline-performance.png 436w\"\n        sizes=\"(max-width: 436px) 100vw, 436px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</li>\n<li>Pipeline Performance\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 385px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/83a6b3ce1509b4277cb0d125b9b7a7f5/409e6/pipeline-performance-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 73.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y31Uy27aUBD1/39Al120X1CpiySgtqraRZsHSbqoiHgEjHnY+BoMtjFgn84Zcw00Ta80us85c2bm2A4OoyxLNY44SeD6AcbzsDZP9jwLlzFeG/R3ttst8jw/HFQXj71nvPlwgXfNr3h7+RnvP33TNc8ad4/6pijKmsQpGafX6+HpqY3lconNZoM4jhEtFgiNgTERwtBgPp/rmR8ECMSMqc7CMFSbzWY1KWc8HsN1XUynU6zXa2RZht1uh2K/B9nTiqKwSb1gxTtazZDMFhKdwIPBAN1uF8PhUBl4nqdrBsuEvQYS570EI6NjIBwBjaZmMBqNsFqtlBHT7vf7OtORqbbbbQk41PR830en09FgfMNAdVOiKAKNDG0d/tNGeBKYBAjCEhGYGdSAf7edIxXg5u0DLn7e4ermHl9+/UZD9y2Eq/VZjMlkopmdMWQE1oUHZBlJGs2bFi6vBfC6peANAf74/Qfc6QxbeUN29Hmhw2dpBKXDJqRpqtG0lpustjxLsReQXO5jaSIbSSJ8b0GrrktTqCPSZkepMT4kSyNzkqS6Dw7BXilrDaYMrWwIamXDjnNPMBuMWiXzc0aHL+QEVGtIZgQjMM2CUha8Z1cpFQJzPn6qFUgFWJmTyI+A6ZCpFSrXlBFrS4acrfApE87U61EZZV0C519/DA46kB0Z2yZQxPqty/oU0LKj5x8xc3oITcxHCgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipeline-performance-1\"\n        title=\"pipeline-performance-1\"\n        src=\"/static/83a6b3ce1509b4277cb0d125b9b7a7f5/409e6/pipeline-performance-1.png\"\n        srcset=\"/static/83a6b3ce1509b4277cb0d125b9b7a7f5/772e8/pipeline-performance-1.png 200w,\n/static/83a6b3ce1509b4277cb0d125b9b7a7f5/409e6/pipeline-performance-1.png 385w\"\n        sizes=\"(max-width: 385px) 100vw, 385px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Pipeline Speedup</p>\n<ul>\n<li>\n<p>If all stages are balanced</p>\n<ul>\n<li>i.e., all take the same time</li>\n<li><code class=\"language-text\">Time between instructions(pipelined) = Time between instructions(nonpipelined) / Number of stages</code></li>\n<li>If not balanced, speedup is less</li>\n<li>\n<p>Speedup due to increased throughput</p>\n<ul>\n<li>Latency (time for each instruction) does not decrease</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Pipelining and ISA Design</p>\n<ul>\n<li>\n<p>MIPS ISA designed for pipelining</p>\n<ul>\n<li>\n<p>All instructions are 32-bits</p>\n<ul>\n<li>Easier to fetch and decode in one cycle</li>\n<li>c.f. x86: 1 - to 17 byte instructions</li>\n</ul>\n</li>\n<li>\n<p>Few and regular instruction formats</p>\n<ul>\n<li>Can decode and read registers in one step</li>\n</ul>\n</li>\n<li>\n<p>Load/store addressing</p>\n<ul>\n<li>Can calculate address in 3nd stage, access memory in 4th stage</li>\n</ul>\n</li>\n<li>\n<p>Alignment of memory operands</p>\n<ul>\n<li>Memory access takes only one cycle</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>4.5 An Overview of Pipelining</h3>\n<ul>\n<li>\n<p>Hazards</p>\n<ul>\n<li>Situations that prevent starting the next instruction in the next cycle</li>\n<li>\n<p>Structure hazards</p>\n<ul>\n<li>A required resource is busy</li>\n</ul>\n</li>\n<li>\n<p>Data hazard</p>\n<ul>\n<li>Need to wait for previous instruction to complete its data read/write</li>\n</ul>\n</li>\n<li>\n<p>Control hazard</p>\n<ul>\n<li>Deciding on control action depends on previous instruction</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Structure Hazards</p>\n<ul>\n<li>Conflict for use of a resource</li>\n<li>\n<p>In MIPS pipeline with a signle memory</p>\n<ul>\n<li>Load/Store requires data access</li>\n<li>\n<p>Insturction fetch would have to stall for that cycle</p>\n<ul>\n<li>Would cause a pipeline \"bubble\"</li>\n</ul>\n</li>\n<li>\n<p>Hence, pipelined datapaths require separate instruction/data memories</p>\n<ul>\n<li>Or seperate instruction/data caches</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Data Hazards</p>\n<ul>\n<li>\n<p>An instruction depends on completion of data access by a previous instruction</p>\n<div class=\"gatsby-highlight\" data-language=\"mips\"><pre class=\"language-mips\"><code class=\"language-mips\">add $s0, $t0, $t1\nsub $t2, $s0, $t3</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 451px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e40961c9a4a5b9dc77f7584fbe3cf521/38070/data-hazards.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABF0lEQVQoz31R2XKDMAzk/z8wnUlfoE24bWxsbK6w9apJhulDxWgk7NVKWmfHcYC27zu2bZM8hIAjfTFG8J5xXVcsyyJxmibBzPMM772cj+MoHBkLCOIFgU3TYBgGiVVV4Xr9hDFGvK4bKKUETzISvZqx9vF4IONEZCcJQWVZwjknZH2vcLl8wFoLrfWTUOM/y14rny0uGxo9wfoZvY3QIz3AOP4H1MqlPAqW9WfP/pLxcE+jr9sOm4q+a4POTKi1T0285N0QoFKjzgRMcf2te9bKhFyVIlOTs5F0WXc4H1A1HQY7oksyfN1K3MoaShuMzqPvetHvvTIfhKJT2PMabwlSs/v9Llq3bYuiKJDnuWjLszwv5IVpP32BHoOEgT5GAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"data-hazards\"\n        title=\"data-hazards\"\n        src=\"/static/e40961c9a4a5b9dc77f7584fbe3cf521/38070/data-hazards.png\"\n        srcset=\"/static/e40961c9a4a5b9dc77f7584fbe3cf521/772e8/data-hazards.png 200w,\n/static/e40961c9a4a5b9dc77f7584fbe3cf521/e17e5/data-hazards.png 400w,\n/static/e40961c9a4a5b9dc77f7584fbe3cf521/38070/data-hazards.png 451w\"\n        sizes=\"(max-width: 451px) 100vw, 451px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n</li>\n</ul>\n</li>\n<li>\n<p>Fowarding</p>\n<ul>\n<li>\n<p>Use result when it is computed</p>\n<ul>\n<li>Don't wait for it to be stored in a register</li>\n<li>Requires extra connections in the datapath\n<img src=\"./forwarding.png\" alt=\"forwarding\"></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Load-Use Data Hazard</p>\n<ul>\n<li>\n<p>Can't always avoid stalls by forwarding</p>\n<ul>\n<li>If value not computed when needed</li>\n<li>Can't forward backward in time!\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 368px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c8032fce4d50bab4e8c02ff4ef00ae60/2b727/load-use-data-hazard.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABSElEQVQoz4VSi26DMAzk/7+tpVulrZq6AX3QQkIeQIBQoDcnHV03aZol4uDYZ/vsYBgGZFmGsqowy/V6xTRN/+rZ91EHbdvi+fkJnDPUdQ1jjHcuigIumRAC1lqv3b9SEpfLBXmee1/GOZqmAWPsBjiOo39Mzzn2+713TpIEUikcj6m3hWGIsiyx3W5xINuObHOVLn7WzhbQCUMZTNtDa+0fPqKIKlEUfMDplGKxWHrA180G79EOcRzjLwkcuqvqm7+bHsYJmTRQdQemWtIWXHeQlYWkO1MNcmFQ6ObOoa/wN+AXLPE1ghFgTZVzZVDWLUR5+3anArp24B206X4CusO1yhinbAbVw7RnSZKY2oxocAovb2eEqxXW6zVSosTxv1gu/UDvLfd977kbqc3HdZhXoSJnF2DtAF12nlchpI+ztoeUym+Ak0+Fymg0Br+XUgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"load-use-data-hazard\"\n        title=\"load-use-data-hazard\"\n        src=\"/static/c8032fce4d50bab4e8c02ff4ef00ae60/2b727/load-use-data-hazard.png\"\n        srcset=\"/static/c8032fce4d50bab4e8c02ff4ef00ae60/772e8/load-use-data-hazard.png 200w,\n/static/c8032fce4d50bab4e8c02ff4ef00ae60/2b727/load-use-data-hazard.png 368w\"\n        sizes=\"(max-width: 368px) 100vw, 368px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Code Scheduling to Avoid Stalls</p>\n<ul>\n<li>Reorder code to avoid use of load result in the next instruction</li>\n<li>C code for A = B + E; C = B + F;\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 444px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02240d40496857ce9efe2917f9b287e1/9b7bd/code-scheduling-to-avoid-stalls.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABxUlEQVQoz22RW1PaYBCG/f/TXtnAKKCFnvReWzp22nJQUCCUhJAIMUA4FDlINAFKODz9KJ3iRXdmv9mZd/bZ3e/dQ8RqtWa5Wm1KZtM+rmcxGpt4kwajURXHqbHwhyyXPp5b50nko2vx6NwxGlbxvLpgzP70763Xa55Ht5vGqoSx0/s09SjZK4miHBBNBXzf49aIYRcPaeaCaGqETEai2XjPYtHfAjePdmeTyKsMxi7dTpqyfIB1fUhdeU05F6aTlfDMC+b+hFrthPH1AU5yn0o+RC4t0WqcsHwOlHWTj8kbBo5H/z6DWY2hF4+pW6eo5SiKAPbbSSYzl4oWwygdiWHH6IUwVQG/v5aYO/bu5G1u/7DducRUIvTE5LocQb4KoN8EcXpZcdYEXXuDrr/jtvoBQ42hpCQa2QC+195tGL+UkU7PsToDuu3vlIqvqJRC2OZbDOUIK/UCxzhjsZqiKiHKQmsKrWZEMfJB2umXYsPGDvhr7jOZTtn44z41GT+UKGhfScifSOTOsVtZobeEy3MeRgqdnwVSxTjfcmfI6heGgx/CZe9/Lu9qze7xOV8mUzF36l/ZnS1IaibxnEpn9PhP27B+A2KyP2yYA5kYAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"code-scheduling-to-avoid-stalls\"\n        title=\"code-scheduling-to-avoid-stalls\"\n        src=\"/static/02240d40496857ce9efe2917f9b287e1/9b7bd/code-scheduling-to-avoid-stalls.png\"\n        srcset=\"/static/02240d40496857ce9efe2917f9b287e1/772e8/code-scheduling-to-avoid-stalls.png 200w,\n/static/02240d40496857ce9efe2917f9b287e1/e17e5/code-scheduling-to-avoid-stalls.png 400w,\n/static/02240d40496857ce9efe2917f9b287e1/9b7bd/code-scheduling-to-avoid-stalls.png 444w\"\n        sizes=\"(max-width: 444px) 100vw, 444px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Data hazard는 RAW(read after write)에 발생한다</p>\n<ul>\n<li>\n<p>code dependency의 종류</p>\n<ol>\n<li>RAW</li>\n<li>RAR</li>\n<li>WAR</li>\n<li>WAW</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Control Hazards</p>\n<ul>\n<li>\n<p>Branch determines flow of control</p>\n<ul>\n<li>Fetching next instruction depends on branch outcome</li>\n<li>\n<p>Pipeline can't always fetch correct instruction</p>\n<ul>\n<li>Still working on ID stage of branch</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>In MIPS pipeline</p>\n<ul>\n<li>Need to compare registers and compute target early in the pipeline</li>\n<li>Add hardware to do it in ID stage</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Stall on Branch</p>\n<ul>\n<li>Wait until branch outcome determined before fetching next instruction\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 335px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eefbfa83c5708a98f171997c920704a9/c0051/stall-on-branch.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABUklEQVQoz61SSW7DMAz0//+Wa4HWTROvkbxF3uV1qmHiIKeeSoAeWRSHQ0revu9YlgXruuI/zOu6DqfTCWEYCrG1VjDPc/R9j6qqwDNEYwzatpVY0zTQWkuMyJxt2+ANwwDf9yWBB+u6xjzPksgYkUl0FqBz78BxHF/IPI8frRWSOBZk5ditj2SqOpQeyv5smS3edIGiMiirWhSmaYrbTYlyFimKXJAeBFf3XzjF7YuE93C4Z6cJ93ZEN87o7eKkW0RRJKRKKZT3GlGikOocWXHHJUxwDSLEqYadV3TD5Ga3v4i9yRGy7WXd3E1vb1WdOwyVwXdUwg8z5zkuiSNNStn7iUt8nBXafpQEIeQwq7pDady82keAVMuyyn+SNTBNj88v3802gakbBO5FKKWRZTn877N0xEuTGT50vNujEo2tzI5Y3iq7eD6N+bkmskM692m/4BK1uIu2BpUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stall-on-branch\"\n        title=\"stall-on-branch\"\n        src=\"/static/eefbfa83c5708a98f171997c920704a9/c0051/stall-on-branch.png\"\n        srcset=\"/static/eefbfa83c5708a98f171997c920704a9/772e8/stall-on-branch.png 200w,\n/static/eefbfa83c5708a98f171997c920704a9/c0051/stall-on-branch.png 335w\"\n        sizes=\"(max-width: 335px) 100vw, 335px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>Branch Prediction</p>\n<ul>\n<li>\n<p>Longer pipelines can't readily determine branch outcome early</p>\n<ul>\n<li>Stall penalty becomes unacceptable</li>\n</ul>\n</li>\n<li>\n<p>Predict outcome of branch</p>\n<ul>\n<li>Only stall if prediction is wrong</li>\n</ul>\n</li>\n<li>\n<p>In MIPS pipeline</p>\n<ul>\n<li>Can predict branches not taken</li>\n<li>Fetch instruction after branch, with no delay</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>MIPS with Predict Not Taken\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 435px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6590a17a2d4a347620f21dec01107dd8/330eb/mips-with-predict-not-taken.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACA0lEQVQ4y41TyY7TQBDNv/MHHBA3bgguHEACjQRzYC4IIcEljBAoi5dut9f21u0lzpuqDrYyGUaipFLZyevX9eqVV9PxiGmacKQ6jiNUFKHruuW973sMwwBrWnru3PtlMo7xHCuchbUWP29vkec56rp24LIs3XNV1a5y8m9FUbhkbNM0OBwOJ0I/TvAnFNgKhbo1iCIJKQQKAsZx7MBVVbnKBGmaLocvg7tcPf/wCU9evsHT99fw4hRZXiLTNXRZw/c8bLdbhGGAJEkg6KIwDBEEAbTWjmAe1yJ5F1GHIoKfFSjrBlmWQ8iIZFU0AgOVanihgkfk3KFSilQQ3vdd5fnN3T2YIc5u5MoxEa7rR2cUS2UC/s8Y42Y8Ey2E03Q6PP1tmw9dgv433AzPD3IX6/XazYcdv+9ytdTZZcZxbdt2UXRPctdZ7Pd7NxutT0AmZXLOpmmd27NsrqyIcyF8/fkLnr29wouPN5B5QaZkSNKMbtaOnF2VUkJTJ1KEEOR4TpiRlv2fkq++/cCr6xu8+/odsSYplYVuBrSmdzvHZHGSQUQphKKqUvzeeAhkjNaOsP3hcZdZQmtIXj+gNh3Gw0lGog12ssCvTYiNH2MbptgJIt5J7ALlxrJ06FbEOQw3h2GgFaFs7QDeACYtGwtjeySxQkWGlKVGQwbx18R7yXOdCe8ADcbm9gotwhYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mips-with-predict-not-taken\"\n        title=\"mips-with-predict-not-taken\"\n        src=\"/static/6590a17a2d4a347620f21dec01107dd8/330eb/mips-with-predict-not-taken.png\"\n        srcset=\"/static/6590a17a2d4a347620f21dec01107dd8/772e8/mips-with-predict-not-taken.png 200w,\n/static/6590a17a2d4a347620f21dec01107dd8/e17e5/mips-with-predict-not-taken.png 400w,\n/static/6590a17a2d4a347620f21dec01107dd8/330eb/mips-with-predict-not-taken.png 435w\"\n        sizes=\"(max-width: 435px) 100vw, 435px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>More-Realistic Branch Prediction</p>\n<ul>\n<li>\n<p>Static branch prediction</p>\n<ul>\n<li>Based on typical branch behavior</li>\n<li>\n<p>Example: loop and if-statement branches</p>\n<ul>\n<li>Predict backward branches taken</li>\n<li>Predict forward branches not taken</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Dynamic branch prediction</p>\n<ul>\n<li>\n<p>Hardware measures actual branch behavior</p>\n<ul>\n<li>e.g., record recent history of each branch</li>\n</ul>\n</li>\n<li>\n<p>Assume future behavior will continue the tred</p>\n<ul>\n<li>When wrong, stall while re-fetching, and update history</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Pipeline Summary</p>\n<ul>\n<li>\n<p>Pipelining improves performance by increasing instruction throughput</p>\n<ul>\n<li>Executes multiple instructions in parallel</li>\n<li>Each instruction has the same latency</li>\n</ul>\n</li>\n<li>\n<p>Subject to hazards</p>\n<ul>\n<li>Structure, data, control</li>\n</ul>\n</li>\n<li>Instruction set design affects complexity of pipeline implementation</li>\n</ul>\n</li>\n</ul>\n<h3>4.6 Pipelined Datapath and Control</h3>\n<ul>\n<li>MIPS Pipelined Datapath\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/534e2e144e67581c4e72f5ee08990e44/ee9b6/mips-pipelined-datapath.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACGklEQVQ4y2VTyW7UQBD1V3PlMyJxzJEPiETgBDeWJCJIHEZKFGacMTPe115sF++Vac8EWmpXd1X1q1eLI8Ga55lCxnEU55xK6qy1MgyD3qdp0nOwU3rv1Y8ynKMAxuXh1DSNOADxUZZlkiSJdF2n4DyXZQngHn616glM2bbtAkigaZph8OIQZQQT70cxAAixPBnBpr7QWedXW8gmLAXseiN5WUnT9pJmhe6yBlM/4fEog3G6jfV67wcjBqCD8Ws5CLoy7I0FQ8tqSl1XUiGt9HjUNI0x0vcddi8tysE7sxlH1NSeAEMvFkBE5GMaCoDxbDXlU7NYzzzPwT6Dv1W2HqDTv4ATPmTIohp0kUxC5whKye6maSpVVWkTwpq13v5/hg5NSA6p7Hax7Pd7BTgi5e12q10lM27qyZS2uq41fXZ4AVyyiT7c/pDNNhbL2iAaGR4OBwWj5C6KQuI4VpY8U0cgglPHoDXqq4D3D0+SI9opj1kKsNknv2UXL2wZhAH42P2dVTIka9oYpKhqYfmiq8+3cvXlTt7dfJcOLO8ff0mcMi1EhhOd+ZCS9SJg0LHurCtB2SB2Pnr15lJeX76Vi/cfpWha+bZ5lIfnROvTdv1as/NmsOvnZzaDc8mfIrr+eieffm7k5mmHbpvV0ViHu4cjBtk43RwVDnjTDTqDvLf4KbrB6X3t8vnib0hDmP5FN70YjXAOtvNf7w/+tTtfnH1OewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mips-pipelined-datapath\"\n        title=\"mips-pipelined-datapath\"\n        src=\"/static/534e2e144e67581c4e72f5ee08990e44/5a190/mips-pipelined-datapath.png\"\n        srcset=\"/static/534e2e144e67581c4e72f5ee08990e44/772e8/mips-pipelined-datapath.png 200w,\n/static/534e2e144e67581c4e72f5ee08990e44/e17e5/mips-pipelined-datapath.png 400w,\n/static/534e2e144e67581c4e72f5ee08990e44/5a190/mips-pipelined-datapath.png 800w,\n/static/534e2e144e67581c4e72f5ee08990e44/ee9b6/mips-pipelined-datapath.png 1041w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Pipeline registers</p>\n<ul>\n<li>\n<p>Need registers between stages</p>\n<ul>\n<li>To hold information produced in previous cycle\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 432px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3107a339068f6d9e23b4db8c82bace63/0e0c3/pipeline-registers.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABtklEQVQoz0WSDZOiMAyG/f9/62Zubhzd2z2/BUVXRFhQECiUAr6XpKKZyZTS9En6JiOlFKqqQl3Xshpj8Hh0aNv25X3Xouve/7qOVyP/rPV05yFfo6Zp5IBB9RN8/I4lYAi6hCmyrMRgvP+JUwGzeYeQ7jUWyJcYVpYlrtcEaZphPPWeFdfoe4PF6ozdPqCYAqbRcPcxTn5CZxY4mwdQSlsgwwbn5xjT4mvm24f0vawMmM0dqjKlRAruLsI5uL0qXq4ub2AQBGC/3+8E6KB1g8mHhziOKYg11VhvLyRDJFrZBD8Io+yJe2CxDCiRsUCttVSW57lUUBQKv36v4DgOwjCkRClVfMR6c6CYDLdbQnsPm+03QSo6zzD96yGKEtK8x0hykI7cHAbXtcZ4ssPpdBINuYKNE2IynZO+N7SmIfgZjuvTaypo0vrf3Mfx6EvnR0M3WS/2ruvxZ+xKA4qiRJZesVyfqZMXqYATbN2QoEeJaahJH58eJctthcNoDMZArnCYTaVyAfKoDLY/JLTPBMCvmi18kquQHrye/HYQpAZry53nGS3LShrEsrCzzrZhdjrsXknsf4qN/q/RgYXDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipeline-registers\"\n        title=\"pipeline-registers\"\n        src=\"/static/3107a339068f6d9e23b4db8c82bace63/0e0c3/pipeline-registers.png\"\n        srcset=\"/static/3107a339068f6d9e23b4db8c82bace63/772e8/pipeline-registers.png 200w,\n/static/3107a339068f6d9e23b4db8c82bace63/e17e5/pipeline-registers.png 400w,\n/static/3107a339068f6d9e23b4db8c82bace63/0e0c3/pipeline-registers.png 432w\"\n        sizes=\"(max-width: 432px) 100vw, 432px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Pipeline Operation</p>\n<ul>\n<li>\n<p>Cycle-by-cycle flow of instructions through the pipelined datapath</p>\n<ul>\n<li>\n<p>\"Single-clock-cycle\" pipeline diagram</p>\n<ul>\n<li>Shows pipeline usage in a signle cycle</li>\n<li>Highlight resources used</li>\n</ul>\n</li>\n<li>\n<p>c.f. \"multi-clock-cycle\" diagram</p>\n<ul>\n<li>Graph of operation over time</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Multi-Cycle Pipeline Diagram</p>\n<ul>\n<li>Form showing resource usage\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 367px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/94c41b4d70d4bd7481741121b776df13/46684/multi-cycle-pipeline-diagram.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABzElEQVQ4y6WT2U7rQAyG+/5PwcV5BQSHRRwEQlBKoC1plK00SZuFKDlVmjRLlx970JSU5QpLjmc6jvONf7ez3W7RtrqukaYpkiQRsSgKVFX1rXMux7IsRWTr8GOz2WC9Xosf+CDPc2RZhsViIdbL5VI4F29HzuW13O8KOo6DOI7xW+Pbdvjh+z7CMBRfYstzvkKDJM3wGs/p6xWWZS0i5//kgpAXXIj7NZ//R7YocNvVMNLGuLzq4+DPP9z3VChPOnqKwRw7mnaU1uH+yQaz874gkizLYZhTcg9DdYz+0CLaFEGYEGn5Y1FByA3l5rMIq9VKHIT0ovJoYDA0cXbRx9GJQr2e4Ob2GX4Q7/WtHQWhlJ2d9/KQlZ84IUxrSsUCXN9oUDUHrhfhZeLTjZovRXeEckTk+MgkLqAbLizbw+HfR3TvNfQeVGqBTSD1LvcLoRzSdoJMYnUNc0a0Pro9HSfnA0ynAZEG0HR37x1ByAVZaSZs48t1WVZCINcL8TQg9a9HNAUGdN2GNfb3lBeEUhR2Kcp3CkZRiv7App56NFIqjk8VIp3hjtoQvSYfKjdNsyfKZ0IZeZQcNxKjY9o+1NEEnjeDRaLlxftf7w3xFeU/3YvaOgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"multi-cycle-pipeline-diagram\"\n        title=\"multi-cycle-pipeline-diagram\"\n        src=\"/static/94c41b4d70d4bd7481741121b776df13/46684/multi-cycle-pipeline-diagram.png\"\n        srcset=\"/static/94c41b4d70d4bd7481741121b776df13/772e8/multi-cycle-pipeline-diagram.png 200w,\n/static/94c41b4d70d4bd7481741121b776df13/46684/multi-cycle-pipeline-diagram.png 367w\"\n        sizes=\"(max-width: 367px) 100vw, 367px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Traditional form\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 423px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f684f1ee858cb2c2a1afc5aa3d0a445f/f687d/multi-cycle-pipeline-diagram-traditional-form.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABEUlEQVQoz6WS2a6EMAiGff/HM9FoXOO47/uuTH4SJjOey0OCQLEflFahhyzLQlVVfXSaJlrXleZ5Zou8qKzByppyHAelacoBBElAuq5jO44j58RiTQDwt237ySlwDMNgwH3f9F9RzvOkuq4pz/NPR03TcIG+77kbrMGHhUph2KcqSLRtS0VRMLgsS4qiiFRVJV3XyXEcCoKAwjBki3gYBi4k8gcICDqEiqAIYk3TyLZtsiyLfN9nsOd55Lou7wNcoHxkfHCbSZLwD99JjANjwKWZpskgdAgoFFDsy7KMR8FAbAYQMOh1XT9QCF4CngeOjAuElS4BewUviuOYT8RAdPI9h+dcRPCfwKEoLvG+7+y/AUlstYf0HRtBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"multi-cycle-pipeline-diagram-traditional-form\"\n        title=\"multi-cycle-pipeline-diagram-traditional-form\"\n        src=\"/static/f684f1ee858cb2c2a1afc5aa3d0a445f/f687d/multi-cycle-pipeline-diagram-traditional-form.png\"\n        srcset=\"/static/f684f1ee858cb2c2a1afc5aa3d0a445f/772e8/multi-cycle-pipeline-diagram-traditional-form.png 200w,\n/static/f684f1ee858cb2c2a1afc5aa3d0a445f/e17e5/multi-cycle-pipeline-diagram-traditional-form.png 400w,\n/static/f684f1ee858cb2c2a1afc5aa3d0a445f/f687d/multi-cycle-pipeline-diagram-traditional-form.png 423w\"\n        sizes=\"(max-width: 423px) 100vw, 423px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>Single-Cycle Pipeline Diagram</p>\n<ul>\n<li>State of pipeline in a given cycle\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 430px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/def94870add40093f7fa20a53a0811ed/05ed2/single-cycle-pipeline-diagram.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8ElEQVQoz0VSiW6jMBDN/39VtVr1TFulSbVKmxJIgHCa0+YMb2eGJkFC2B7mXePF+XxG27YIwxBZlmEYBnRdhzRN5e37Xs64liTJdV/XNeI4ln+rqpJ+xlkwoDFGDpRScsh7bo6iCFpraSqLQgi43nWtnPN+FtRcyRbMlOe5gPCa2epaU4PBNE2ihkHyopTmi7okUbIexxFFUeHyLApivtgsy5KKOY5ujJ0VYDqPUisrjc3nkZoHapmgshr/tj7OYw9tWqw3BwFjAQJ4YWYbjdHwfIWv3Yl+4fMetW7w+LSF73uUWwTXi/GxPhDAANN0BOjeAFkV5xcEgdjmJ4orWHZMRKNY0rrF67tFVmdrWW6w/Q5lbUxH6r0bIAfJE+Qc+W0aTQoSPDyucTw6VFP09fHyuvuNJINluVh9OBiHlsgVke3FiQBewuQNh922Bqcgx9/7FVz3IJNLFe8/4Tg2KaopkgQvy28iyOgmpHgmsiA4zVNmIH45Rz7g3Njyw9OGBtVQUyGAy7cf5OSEY0jSEs/LL1KryEFJNYuINKkcZ4UMOH9ntWFU4u7PG2VXyV10HFea+r6jyQ7kQOF9ZRNAS0NSFMcPRWVksIsb2HQF7vqR7J5oWIFc2DCMYNuugPOUPe9EJJ5cbK7t90dENFge4H/HCEY3Ma4u/QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"single-cycle0pipeline-diagram\"\n        title=\"single-cycle0pipeline-diagram\"\n        src=\"/static/def94870add40093f7fa20a53a0811ed/05ed2/single-cycle-pipeline-diagram.png\"\n        srcset=\"/static/def94870add40093f7fa20a53a0811ed/772e8/single-cycle-pipeline-diagram.png 200w,\n/static/def94870add40093f7fa20a53a0811ed/e17e5/single-cycle-pipeline-diagram.png 400w,\n/static/def94870add40093f7fa20a53a0811ed/05ed2/single-cycle-pipeline-diagram.png 430w\"\n        sizes=\"(max-width: 430px) 100vw, 430px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>Pipelined Control (Simplified)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/125768ce0ad9d99b2764c32fd96e0d14/ea64c/pipelined-control-simplified.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABo0lEQVQoz21Ti27DIAzM/39ju02V2rwTAgQIJPV8pnRdN6STgZjznSHV/X6nGBPF9Abe22KOQEr7rz1ZM8KWqAxwVUotNEwzGWMZRqK1KznnadsiY6MQNtJayxxwztE8z2RXxwV22kIg772QVmpZyPPByInWWlp4va6rHDyOQ7DvOznew7wM51YhSfvBBT3PQybU2lAQC0kUQgmIJTlxoZgxTRNdr1eq61oKQsg0a7Z9iBjkCCES+2EkzQkgxYC69OilCzlRKSU2S86i2Y0NdMgdxOd+BUVt24gC2EV/oBRKLpcL9f3w/AYSOFoYs9ISjfVkmMNw3z1fUPV6Q8UuALLz+SyqoK7rOvr4/KKu79nqLPv52yIFx3GkYRioAhEGGg/ZiLCMfiEp8A1ijXld30ih57IepAj6CYgDhhAW0hLRE6jrWU3bttQ0jajvJ1ajPSFNLgbqlHk+KRSvXsleCU+nkxAhCX1F9abpyPl8o2hLcQRy5CH+S4jE2+0mvQuPR4s5foCdv0FNeasgR0Gs0dPq3W6JSICVHxh+e3me/6i/wJlv49KhlRlQRPEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipelined-control-simplified\"\n        title=\"pipelined-control-simplified\"\n        src=\"/static/125768ce0ad9d99b2764c32fd96e0d14/5a190/pipelined-control-simplified.png\"\n        srcset=\"/static/125768ce0ad9d99b2764c32fd96e0d14/772e8/pipelined-control-simplified.png 200w,\n/static/125768ce0ad9d99b2764c32fd96e0d14/e17e5/pipelined-control-simplified.png 400w,\n/static/125768ce0ad9d99b2764c32fd96e0d14/5a190/pipelined-control-simplified.png 800w,\n/static/125768ce0ad9d99b2764c32fd96e0d14/ea64c/pipelined-control-simplified.png 1116w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Pipelined Control</p>\n<ul>\n<li>\n<p>Control signals derived from instruction</p>\n<ul>\n<li>As in signle-cycle implementation\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 310px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/424c743bad910819cd4b03f49a8c6229/5fad2/pipelined-control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABZ0lEQVQ4y5WT2Y7CMAxF+f+fhBckZlTaNPuKx9clJRReJlJw6trH1045Ea/H47HvUhu1p425UG3bc2vb+2N8391/6g9YAkmFrE8060A/syXtIrmYyfhIge23NUJP+AkhkFKKtHECBVCZwJAkZxRxIYsP2zMYcblUqmy7JlHYgdM00XRXpOwGWW0gbSNZBgUGrnzG/l2s+D37nc9SFONg3KZwbNmHJBZt/i6e7quXc6mVR+Cl0MIKYXseCk7POIBFYePBp5Rkox3tksCU8XsyVELVvDpuP8lFQVXKle7KSkettxxjJK01lVJ2tTlnGUX3AVpZqXOOIXm8EY7zHJ9el4Jka63YEYg9FgEUxUcfuoOv5+5AY8yHQozgmDyqHou8AZGIwPF7+g8Qvg+FqHIEIvGYDD/ARx/muwOXZaF5nveAflHX6/UNCMXn81niR9WXy4Vut9sLCHqvMP4vARi/034B32aIWKw/eSD965UjrkEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipelined-control\"\n        title=\"pipelined-control\"\n        src=\"/static/424c743bad910819cd4b03f49a8c6229/5fad2/pipelined-control.png\"\n        srcset=\"/static/424c743bad910819cd4b03f49a8c6229/772e8/pipelined-control.png 200w,\n/static/424c743bad910819cd4b03f49a8c6229/5fad2/pipelined-control.png 310w\"\n        sizes=\"(max-width: 310px) 100vw, 310px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a367264dedecd3f7c7b749622217bd3e/4b2cc/pipelined-control-datapath.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACC0lEQVQ4y11T2ZKjMAzM/39h3qZybBEOG1/YJkB61CLsZMZVAmxZrW5JnCBr3TY8lxXLuqHUJ+bn8svq/BQ/v8U378Yz+hj7er3UuE58EGwVsE0OGZimCbVWtZgm+JDQ9hZO3j7s+xATrAvIhck2AV8VVAG3N7ouggoTPZfsuc6YygzrM+a3Cu6ZqJSqLAlExgq4CCM7OoQQEGPUNwHJrpQCHyeEqcJ4YRYLQqoY3ITOJow+IeUZwxj0WyXnnJX+AULASSR777UMVWsoDF3U4FwX9OMEM0YtQSbbqQjjsjMkCy26ADrnYK1FSkm/6UtyeRZAJvByZozBox9FlYfzQSUXqhFj6XaGISorBnKxDDxftxdi3s/GcUTzaNEZh9aIRGHc2ajNIFgub0DKvN/v6PteWXFP8LZt0TQPZcHzlESiZ+Is8pPKLXWXy/suZGmiAFL3uu4tV1livHC73XA+nzEMg8i0mvB+/6fgX7cGXT/8vz+In3uqOv1My0slP3V4Z3Rdp3bMI2t3vV41WWe8+pgkyWR4aSQTs+anY8o/jYzJkEEEattOR8pYYSTdpDznvNTea/fb3mhSxv1iePw+dFwuF2XEjnvWUZoyDEbHpbf7zC4LR23WO2ROdacD5C9g0zQq6Rhw1o5MQuJwZwXhNPBv4h36FRD4/Ot+QFlgBn1aeNeL7D5tV+G19t973TvyWNcOlwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipelined-control-datapath\"\n        title=\"pipelined-control-datapath\"\n        src=\"/static/a367264dedecd3f7c7b749622217bd3e/5a190/pipelined-control-datapath.png\"\n        srcset=\"/static/a367264dedecd3f7c7b749622217bd3e/772e8/pipelined-control-datapath.png 200w,\n/static/a367264dedecd3f7c7b749622217bd3e/e17e5/pipelined-control-datapath.png 400w,\n/static/a367264dedecd3f7c7b749622217bd3e/5a190/pipelined-control-datapath.png 800w,\n/static/a367264dedecd3f7c7b749622217bd3e/4b2cc/pipelined-control-datapath.png 1013w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>4.7 Data Hazards: Forwarding vs Stalling</h3>\n<ul>\n<li>\n<p>Data Hazards in ALU Instructions</p>\n<ul>\n<li>\n<p>Consider this sequence:</p>\n<div class=\"gatsby-highlight\" data-language=\"mips\"><pre class=\"language-mips\"><code class=\"language-mips\">sub $2, $1, $3\nand $12, $2, $5\nor $13, $6, $2\nadd $14, $2, $2\nsw $15, 100($2)</code></pre></div>\n</li>\n<li>\n<p>We can resolve hazards with forwarding</p>\n<ul>\n<li>How do we detect when to forward?</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Dependencies &#x26; Forwarding\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 390px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1cd69bd98d55cdf0aea8d4896d437fa3/727ba/dependencies-and-forwarding.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAAB/UlEQVQ4y6VU227aQBDl/6WqT6n62A+IFCnqe2+uUimJSGMgCNvxFYMpYPAFAzac7hnXkUN460jjXe+uz5w5M+vO8XgE/XA4YL/fY7vdYrPZoKoqWWt7++w5516HD9psNoNlWTJOp1PEcYwkSbBcLrFer7FarTCfz2WdY7O2WCxkHkWRgAogPyQIR7Lkxm63E5Z8L8tSPM9zyYDOd+7xHOdcE4ZkZ5omgsBHw/Z/TBgyrXASCX1GYoDJZCoSDAYDhOMxfM+D500Uq/JFy3PeYXpFUaDYqdRUCpyPRiOl5R8Mh0M8Dfqwul0YD79xf/eEfLsXJu1sGjBhSEBqk2UZsrwQ/WgU3DQMGM8h7m9ucfdDQ2g5MGwXnuu+Am2DCyDbpBa7LgSNBQqCQEkxh2Xb+PrlGz59+Ijr689S6VOwVymTYZqmwvA0ous6sB0X37VbXLx7j8vLK9G33+9Lq5yCCiDZsQUoeDsanWwWqmjjMILvj2HavgriCXtm0dbxJWWyW6nmTLItqn8atoVmMF1/hPkcoKuP8PPmFwzTkC7o9XpKsuItw7p5D280aZy3I00zeEEI2w0UWx+20pbr/L4ppgCSepKssYzVTSmrs2LT2Kd91Ub6wEb34RGapklr6boOx3FqQD5YWXqp/BxQ+6ewVsGZYhzXd5vtxYtBlrS/YNsyc98YxCwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dependencies-and-forwarding\"\n        title=\"dependencies-and-forwarding\"\n        src=\"/static/1cd69bd98d55cdf0aea8d4896d437fa3/727ba/dependencies-and-forwarding.png\"\n        srcset=\"/static/1cd69bd98d55cdf0aea8d4896d437fa3/772e8/dependencies-and-forwarding.png 200w,\n/static/1cd69bd98d55cdf0aea8d4896d437fa3/727ba/dependencies-and-forwarding.png 390w\"\n        sizes=\"(max-width: 390px) 100vw, 390px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Detecting the Need to Forward</p>\n<ul>\n<li>\n<p>Pass register numbers along pipeline</p>\n<ul>\n<li>e.g., ID/EX.RegisterRs = register number for Rs sitting in ID/EX pipeline register</li>\n</ul>\n</li>\n<li>\n<p>ALU operand register numbers in EX stage are given by</p>\n<ul>\n<li>ID/EX.RegisterRs, ID/EX.RegisterRt</li>\n</ul>\n</li>\n<li>\n<p>Data hazards when</p>\n<ol>\n<li>EX/MEM.RegisterRd = ID/EX.RegisterRs</li>\n<li>EX/MEM.RegisterRd = ID/EX.RegisterRt</li>\n<li>MEM/WB.RegisterRd = ID/EX.RegisterRs</li>\n<li>MEM/WB.RegisterRd = ID/EX.RegisterRt</li>\n</ol>\n</li>\n</ul>\n</li>\n<li>\n<p>Detecting the Need to Foward</p>\n<ul>\n<li>\n<p>But only if forwarding instruction will write to a register!</p>\n<ul>\n<li>EX/MEM.RegWrite, MEM/WB.RegWrite</li>\n</ul>\n</li>\n<li>\n<p>And only if Rd for that instruction is not $zero</p>\n<ul>\n<li>EX/MEM.RegisterRd != 0</li>\n<li>MEM/WB.RegisterRd != 0</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Forwarding Paths\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 372px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b3e65d5faebbdc1aa1c14489a1767198/98b6e/forwarding-paths.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABwklEQVQ4y4WTC2+qQBCF/f+/zsQ23ho10asFQVgWkIeg0/2mHWofSTeZALvnnD3zYHa/34WwNQyDjOM4fdv57XaTruvker1OZ+DatlWOYWePQqw8z+V8PqtA0zRfyLvdTs9tIbbZbKSqqk9BiM45FeB2DhFC9OXlXyA1UpZewQh8X2Atw0kwjmMpikLFcIAbvv8fI6mbXsqwX5al7pF23/caZAXHSjSl7L3XdNI0VQCkJEnkNU7F1cF13UgcRZJlmTq3FMFdLhfNztYMdauLvQPcbrfy/Pyk5CRJA2lUMmlz2Wq1UixmcH88HlVYBQFaCogNYe90OskhgNquF1d4rS9k6k0mUXBc17XWEM56vdbLVPCxm2ya032US1a2gdArqQiCVpZxeOdhBiziXPpFkKLilCbhkCY03TWk8t5FyOwhasE3HOP+EOQW6jOfz2W5XIrzVYgy1KnSptA8nrjiSQm4iHL96pAAsFgsZL8Pnc+cvKZeoqyWODnL/mMaECPA0hTEJsHfBpaukba6cV7yIsyoI91E3eHMJsJ+V02ZVkNE4HA46DuOAduw013vi2lEELGwxkxNeRxQNnn/az3+at/XG6etOl7zDLo4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"forwarding-paths\"\n        title=\"forwarding-paths\"\n        src=\"/static/b3e65d5faebbdc1aa1c14489a1767198/98b6e/forwarding-paths.png\"\n        srcset=\"/static/b3e65d5faebbdc1aa1c14489a1767198/772e8/forwarding-paths.png 200w,\n/static/b3e65d5faebbdc1aa1c14489a1767198/98b6e/forwarding-paths.png 372w\"\n        sizes=\"(max-width: 372px) 100vw, 372px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Forwarding Conditions\n<img src=\"./forwwarding-conditions.png\" alt=\"forwarding-conditions\"></li>\n<li>\n<p>Double Data Hazard</p>\n<ul>\n<li>\n<p>Consider the sequence</p>\n<div class=\"gatsby-highlight\" data-language=\"mips\"><pre class=\"language-mips\"><code class=\"language-mips\">add $1, $1, $2\nadd $1, $1, $3\nadd $1, $1, $4</code></pre></div>\n</li>\n<li>\n<p>Both hazards occur</p>\n<ul>\n<li>Want to use the most recent</li>\n</ul>\n</li>\n<li>\n<p>Revise MEM hazard condition</p>\n<ul>\n<li>Only fwd if EX hazard condition isn't true</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Revised Forwarding Condition\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 408px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/207bad155802c0b1864fff92bb8c7645/e7c18/revised-forwarding-condition.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABxUlEQVQoz51T2ZKjMAzM///ebBJguALhJgMBzGGOHkkJ7NTu27iqy7YEbanbPmk9IY4jPB4PtG2L5/OJ34xt2wSnSQ9wPQ+maeLPxweM6xV1XaNtGjQEpRS6rpMD66p65dpG8jxzflvXg/i0L5IkhX+7wfN9OHTAxTDhuK4cxnHbcWjvwXZfOevTpniAmP7rhxF6XrAS8YnLBIPG+sYwr1DTjI7QDBO6Ucta6QUj52juCS3Fq67HV9NBEelfQhrjOOJRlgiCQCq0HVeq2ddhFNPeRRCGUjnHLNtB0ylM8yxk0vJOWBQFrqTf+XyGT21nWQZF2lWkG2uop0nmvu8l1pB5rOP+/2EKb+ZlwY10YkI2hwnDMCDSlMwoUdJhHLvf73QjYmRpijRJkOeZmDVThW+vX4TruqEi99K8QJaXMvthhDjNEMYJzbmsOR5nOdxbKPEkK5CXX2hVj36csPzU8LhPhG58GfFUg6DpxwP9pKHYJPqmplzVkgRkiqYqpeWdkO8ct3m5nN9aXmBZnzBIAtOycI8ikcPzXMkzLIqzmbt+/5nCHxiGIVrxi+HcrLU4yJd3fUNzjHRfCEeHP03516nfPjse33CAlhqeQcfFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"revised-forwarding-condition\"\n        title=\"revised-forwarding-condition\"\n        src=\"/static/207bad155802c0b1864fff92bb8c7645/e7c18/revised-forwarding-condition.png\"\n        srcset=\"/static/207bad155802c0b1864fff92bb8c7645/772e8/revised-forwarding-condition.png 200w,\n/static/207bad155802c0b1864fff92bb8c7645/e17e5/revised-forwarding-condition.png 400w,\n/static/207bad155802c0b1864fff92bb8c7645/e7c18/revised-forwarding-condition.png 408w\"\n        sizes=\"(max-width: 408px) 100vw, 408px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Datapath with Forwarding\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 459px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4070083cdf51409151aae32da0e01247/48711/datapath-with-forwarding.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABy0lEQVQoz11TWa6jMBDk/nfKFSLlK/lJlEcgj92AMTup6eoZEzSWWsa9VFe1TfD5fMDl9+P3vCyoWwueNvF9/tm6LkzCcfmawCdxreuKvu9RNQ7DtKAwDmFSw40zumGC7SfUdsDzlcANozTc0Mturd1BAw82jiOMMcqmF4BpXtC6EWXTYds2LMLWx7LKapyllcSj3+ILyGQPWBQFmqaBc05BuHdibBTHkebM8yz+XuLfUdmu36UHTJqmSZPDMESSJGjbFmmaqhQCVJVB3bTCalZ/XdcwdaNgHBFjRnwcWRDHMR6Ph7IgGFkSiOz+7j3e7zeyLMcgTbuuk4YWpTTJsgzDMAhDh1hy+B14GUykXCbRx+VnF0nTKIpRSVOej4CT5La2UwKMBaRJo2wCkmWe5yqNrCmf/lEuwfXjPoI0FbBpVMmUT3Yq2Q+TgGVZqrzz+YzT6YTL5YL7/Y7b7YYsL0TyLLewKdNXFEnjTAlUptZ6ZXh8g54lmXF+HAPter3i+XwiSgrEmcHP642f8CVgqTIlIMe0Mzz+JaROO/rJguxLKcyrFklWyAwrvShjGr0UAirD/38dsuSzOFolxd+zERW1zLbZnxWNgLzEPzFXnXlz/aNrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"datapath-with-forwarding\"\n        title=\"datapath-with-forwarding\"\n        src=\"/static/4070083cdf51409151aae32da0e01247/48711/datapath-with-forwarding.png\"\n        srcset=\"/static/4070083cdf51409151aae32da0e01247/772e8/datapath-with-forwarding.png 200w,\n/static/4070083cdf51409151aae32da0e01247/e17e5/datapath-with-forwarding.png 400w,\n/static/4070083cdf51409151aae32da0e01247/48711/datapath-with-forwarding.png 459w\"\n        sizes=\"(max-width: 459px) 100vw, 459px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Load-Use Data Hazard\n<img src=\"./load-use-hazard-diagram.png\" alt=\"load-use-data-hazard-diagram\"></li>\n<li>\n<p>Load-Use Hazard Detection</p>\n<ul>\n<li>Check when using instruction is decoded in ID stage</li>\n<li>\n<p>ALU operand register numbers in ID stage are given by</p>\n<ul>\n<li>IF/ID.RegisterRs, IF/ID.RegisterRt</li>\n</ul>\n</li>\n<li>\n<p>Load-use hazard when</p>\n<ul>\n<li>ID/EX.MemRead and ((ID/EX.RegisterRt = IF/ID.RegisterRs) or (ID/EX.RegisterRt = IF/ID.RegisterRt))</li>\n</ul>\n</li>\n<li>If detected, stall and insert bubble</li>\n</ul>\n</li>\n<li>\n<p>How to Stall the Pipeline</p>\n<ul>\n<li>\n<p>Force control values in ID/EX register to 0</p>\n<ul>\n<li>EX, MEM, and WB do nop (no-operation)</li>\n</ul>\n</li>\n<li>\n<p>Prevent update of PC and IF/ID register</p>\n<ul>\n<li>Using instruction is decoded again</li>\n<li>Following instruction is fetched again</li>\n<li>\n<p>1-cycle stall allows MEM to read data for lw</p>\n<ul>\n<li>Can subsequently forward to EX stage</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Stall/Bubble in the Pipeline</p>\n<ul>\n<li>simplified\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 429px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/51a5596089626730aa4a182088cf1d5d/3d026/stall-bubble-in-the-pipeline.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8ElEQVQ4y21Ty3KbQBDk/2855ZKPyCEuq+Q4iTmkkliVcgESsJKDkVGEHoinxEOgzuxSYETYqqkdlqWnp6eRLpcLunE+n0UURYGqqsRZf+9H91xCZ3GQ3W6H/X6PzWYD3/cRx7GIMAzFHkVRe8Zzfp4kCYIgEBhSnudYr9eC1dBqWQwwG2IvcXTGmKjUvViWpShSP1dX4E0+tATDgx+KVnnLs9kMpmmK/UGWoakqHidPsBzvv49LYnVKU6RZjuMpRZYXNWBOSVHUbDzPE9rZto35fI4pAT+pOpZ/PbjuFoeDL9o7U/HVbo8P4we8/3SHdx9v8VU1asAwItGTHFGciMpBEELTNPyxLNx/kXE7ljH6/AM3Ixnm/FXc4aA+yfWNWbiZKBgpOjTHrQELbhXSjGvV6JRlGcmwhcmeoWgM339R25aNLbFyXbeZWB1vI6wBObMwPoHnXcGXS2r7+QU6e8HPx4nQ1TC5DGYL8TZ9DkdDKQjkeDwiTTPRRn+aaXqCrs/ALBfqVKcB/Ya9dOhMb73XdYdgmKZ8QvkgIB8YH9B664PRkBR1Ct1gWFDOLVf1bCRxrcIwQhBnpGV59bLrNcd5hWkY1K6B8d09AStYLBZQyVbcbs19qXF5VV2btg96Ip+JwtSms1q19uK/X/ev+gf2kuKvhkM7ZwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stall-bubble-in-the-pipeline\"\n        title=\"stall-bubble-in-the-pipeline\"\n        src=\"/static/51a5596089626730aa4a182088cf1d5d/3d026/stall-bubble-in-the-pipeline.png\"\n        srcset=\"/static/51a5596089626730aa4a182088cf1d5d/772e8/stall-bubble-in-the-pipeline.png 200w,\n/static/51a5596089626730aa4a182088cf1d5d/e17e5/stall-bubble-in-the-pipeline.png 400w,\n/static/51a5596089626730aa4a182088cf1d5d/3d026/stall-bubble-in-the-pipeline.png 429w\"\n        sizes=\"(max-width: 429px) 100vw, 429px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>real\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 438px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/040b2e95a0887fa15af322bcd9bccf6e/50e4b/stall-bubble-in-the-pipeline-real.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6klEQVQ4y41T7W7aUAzt+/cV9gL7MU3Tukld6dbBhKYUUj6bAKGkCxNlQUoTbr4DZ7aBQCpVqiXH994kx8f2uWcg22634mybzQZZlonneS77tzrb2QHoYOv1GqvVCsvlUiLv2YMgkOj7vkSlVHnG0fO8HSA/XNctD14mOLVDJa95Ceg4DhaLhZTIliSJlMwseF0UBe3TNyUUwDCK8M9dQRF9ZqrrOobDIWq1GuqNBnq9Ln7rI+QbVEBfZcgswihBnKTCjHsyn88FdDAYQu/00OpNYT08wpra4H+rYIdEe8A4jrEOYygCzfNMXk4mFgzjHq32HS6vbvDxooHPX7+j3RlVSjzG7RFQGMY7hipKkWS5fMRSsG0b46mDy+tf0oo/1G9zNC5lUgU9YaiIYRTvALO8kIxsi6cnOH+X0Fo62gTYvuvCGFlI00RAT/tXDiXhktcKfhDiWSVI0t20XdIhD8meTdE3HqB3TXyrXePeGNOgesL+5cU4MqT+ZYcx7i0nqUT0LiIVeN4zTHOEAQ3qVieWpiHCZw2fMt0DRgipZF/F6DzOcWvNoFk2Zkv6uCgEnDXJ8un3+/jxs45ms0kJTGiaRuWnJYnK1QuIyburOs7ff8L5hy9oTuzyfgtjEj47A3CM9+x5zYPl+B+FsOIwyRdtdwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stall-bubble-in-the-pipeline-real\"\n        title=\"stall-bubble-in-the-pipeline-real\"\n        src=\"/static/040b2e95a0887fa15af322bcd9bccf6e/50e4b/stall-bubble-in-the-pipeline-real.png\"\n        srcset=\"/static/040b2e95a0887fa15af322bcd9bccf6e/772e8/stall-bubble-in-the-pipeline-real.png 200w,\n/static/040b2e95a0887fa15af322bcd9bccf6e/e17e5/stall-bubble-in-the-pipeline-real.png 400w,\n/static/040b2e95a0887fa15af322bcd9bccf6e/50e4b/stall-bubble-in-the-pipeline-real.png 438w\"\n        sizes=\"(max-width: 438px) 100vw, 438px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>Datapath with Hazard Detection\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 448px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/96dcadf6b9cd5bb5dc3511da338679be/33b38/datapath-with-hazard-detection.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB+klEQVQoz2WSaa7bMAyEff8zBTnB698URRDnJd7lfZN3Tzl03QaoAMGWRA0/DuXs+45l3bAsm37HaUZRW9TdiFXW67ahG2ZUsu7ly8E7f+fHmsPZth3TvOqitRPSrIAXlzBlj0HE7bSoUNX0kmzB/2P/9yeijhIKHQeprB1g+x6dFUJJNo4jwiTDK0hlbxLxCXZcYNIcZVmBYPM8Y5kPemeQrPZPKVXdSlCJuq6RVZ3QbSjKGu47gqksBhGal12J3SCHyRtN+u0niE12CM7LCoqStOt6ZFmGpmnQC+U0TTprWZPG2h5parCLr3YYJMEBMoxCLhWpIIW4sdH8roPruojjWCmTJFHi8yxNU/hBoAmPSlqxSyq0FlleaHKHHgVhiNfrBWMMns8nQllTsG1bDSYtxeI4EsFQaRkbRokSs4KH+0Qqew6zD4LPi6Qgned5avT5FBijxHLmhxGiONFk/OZ5rmd8HYRzznav66rIURThfr+r+Pv9VvKz3Fz87fpRn9kwWIlN9KyqKuRFeZT8+Si5Qd9ut5uKXa9XXC4X+L6Px+OBH19fuP38hbrtUYuI74d6h7RV3RyCny+fpbFUdpr4LIXZ+c9GsGGeF8A3Db4DeZsvH42IsTll9SF4ip5+UYSe0ttzkoL+0rPESIMSI43JJHkuNrBxR/xv6fiZ665iENwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"datapath-with-hazard-detection\"\n        title=\"datapath-with-hazard-detection\"\n        src=\"/static/96dcadf6b9cd5bb5dc3511da338679be/33b38/datapath-with-hazard-detection.png\"\n        srcset=\"/static/96dcadf6b9cd5bb5dc3511da338679be/772e8/datapath-with-hazard-detection.png 200w,\n/static/96dcadf6b9cd5bb5dc3511da338679be/e17e5/datapath-with-hazard-detection.png 400w,\n/static/96dcadf6b9cd5bb5dc3511da338679be/33b38/datapath-with-hazard-detection.png 448w\"\n        sizes=\"(max-width: 448px) 100vw, 448px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Stalls and Performance</p>\n<ul>\n<li>\n<p>Stalls reduce performance</p>\n<ul>\n<li>But are required to get correct results</li>\n</ul>\n</li>\n<li>\n<p>Compiler can arrange code to avoid hazards and stalls</p>\n<ul>\n<li>Requires knowledge of the pipeline structure</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Branch Hazards</p>\n<ul>\n<li>If branch outcome determined in MEM\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 430px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/981d605221ef0ea41da16c70f57ef2d6/05ed2/branch-hazards.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAAB+0lEQVQ4y31TXW/aQBDkh/eh/ySq+lKpD32oVKmp0iZpG1pKIAQC2JjG1GBjbMCf2MY2k9tNDtyIdqXV3dm+2ZnZdS3PM8znFkzTgm3bsCyL0zRNTCYTTKdTzGYzfqeqKsIwBMVut4OM6r62Kwv4vgfHcbBcLrFareB5HtbrNVzX3e8DAbRYLJCmKQOUZcmrBJNrTSJnWYbNZsMXttstn1NKcc6eVnpOK30n8yggMZBS/hWSDV+s7P96LgFJLvlWFAXyPEcURVzEthdIkoSZSIn/K0RZk3LJoyRJYQufend3uLnp4OPpJ4w0DepozMWq0qqsqsGAqWARhhH8IES2LZiVqo6gKAq+nF9iqIy4465oWhWUiFAhYl+WFYZkdBzHj8bnBZtPY6LrOhqNJlrtW3S7Xe6ybERJoALoqq/g5PQCr86+Yjg1jwPK0AUrAv1eb6Be/wH9/h6asIBZPlLFh58tvDh5g5ev3+Ja0w+AVJkkZFnOF0gGBbHqD1V0ez1cXH4TP8EcvwUwjRQBdsY63l39wvtGG2PLPgBGUSw8jNnDqtU0TsbMEo3R0GxeoyeAydsgCBALEsebIgA9zxeyDx8Yjos/toOyyLH2NxjrMwwHA5x9Pkenc4tWqw3DMPZq9mPzvPXyPBAG9ydTlkVB3aRM04ybRvl8hCgfADFK4qWXfxDdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"branch-hazards\"\n        title=\"branch-hazards\"\n        src=\"/static/981d605221ef0ea41da16c70f57ef2d6/05ed2/branch-hazards.png\"\n        srcset=\"/static/981d605221ef0ea41da16c70f57ef2d6/772e8/branch-hazards.png 200w,\n/static/981d605221ef0ea41da16c70f57ef2d6/e17e5/branch-hazards.png 400w,\n/static/981d605221ef0ea41da16c70f57ef2d6/05ed2/branch-hazards.png 430w\"\n        sizes=\"(max-width: 430px) 100vw, 430px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>Reducing Branch Delay</p>\n<ul>\n<li>\n<p>Move hardware to determine outcome to ID stage</p>\n<ul>\n<li>Target address adder</li>\n<li>Register address adder</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Example: Branch Taken\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 426px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7030e53698d34b37dce96f0328400595/531e1/example-branch-taken.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACVUlEQVQ4y0VTa3PaQAzk//+Xdvoh7Uyb6bc2ISmPEGjCNDE2GGNMjPH7bbZaAcnNnE/W6VZ7ulUPMo7HDlVVoa5rsY/ouk7tpmlwGfTzn/62bd//aXNezvb4KasaURQhyzIFY0CapiiLQsFa8TXiS5IUYci4XMBaxEmCVOxc4uI41nO9WjbCONNslWTJ80KDsqJCkhW6lnWLvBRmnbA/QsA7FGX1bpPQZfRacWQCUtWNZs3yUjKn8MMEprPHIYzVz0SM/ajBxT4qs+a8p4CpMGH2y1iu91g5IUphEUUJNts3PL96yIRlJWyjJIPr7bUUtRDhlWkrYFmWCA6RsmQdgmCPh6mF2XwDwzAQxSks28Xk2dUEZHOICwwmSwXwgwT/DEeufyLUy/MchdSAlB3HwXA4hmVZ8iA5Hh4mmM3+4uXVkPUJ0+kUG2cD27YxGk8VgLVnWbrzDXt0/BmMYFpLDAYDXF19g2la8qIJ3nY7fP9xjevrn3h8nGK5suG4nsR8Rf/uHokogXFBEMBeOydAfpidIDc3t/j0+QvWshmGIebzOVx3i50APz09S8IhFhLHG9zdD3SPYFEUY+vtToBd9/FyrOfkcSa1WyjIaDRWsVKj4/EEoRwsKoq7ws3tvcazZEyeF+UZ8Cxs6pHjxTCxWJiS3cV2u4Xv+7Dlqv3bO3ieB/8Qq7h//e4rYCGAZFko4PF0ZbKkzsiGLdiIFNg1PKCCFx+7I4pCOCKhxdqHYa5EAadOIXMqQFvvAzBXx2Ww9QhKP1dOyorzcAh1ahtSJaJDJuX5/+m+3viKs6G9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"example-branch-taken\"\n        title=\"example-branch-taken\"\n        src=\"/static/7030e53698d34b37dce96f0328400595/531e1/example-branch-taken.png\"\n        srcset=\"/static/7030e53698d34b37dce96f0328400595/772e8/example-branch-taken.png 200w,\n/static/7030e53698d34b37dce96f0328400595/e17e5/example-branch-taken.png 400w,\n/static/7030e53698d34b37dce96f0328400595/531e1/example-branch-taken.png 426w\"\n        sizes=\"(max-width: 426px) 100vw, 426px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h3>4.8 Control Hazards</h3>\n<ul>\n<li>\n<p>Data Hazards for Branches</p>\n<ul>\n<li>If a comparison register is a destination of 2nd or 3rd preceding ALU instruction\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b9b498d12774561e8e34709cb3d84e15/764be/data-hazards-for-branches.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQklEQVQoz32S626CQBCFef8Xa1JUBBcQAa1KIrKA5SbIxdOZtRr7p5MMZMnu2e+cQbvf77h1HcZxxDRNGIZBdd/3yC8XpFmOjN95jiRNkUiJOJGoqgpcfJ77WRqLxHGM5triSn2hwyVtrusanu/DchwIdw3LdqAbJvTZHB+zBaLj8SX2LqoEkyR5CLYtiqJQokzJJYnI9jbwgpCEPfhhCN1cwbAEVkKgKss/pBo/Svp4I4tss22Z9Koi4OK1JNvb3RdM28UmCLAQDhG7ELaN3X6PnOKYfvdr7/7/q/P5rEiDcAuLSE1nDUGEnxSDT5fwxUqQSeLTSVm+9QM6oiyKb0RR9NrEsXA1TY0N5boiQYMI3bWHuWlhZiwp3yWOh8ODkAfAlll8oO5o6pzlM8eni5HWBcXDU+fmv4AnL7MMMs1UVD/XBRMZAR+nqAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"data-hazards-for-branches\"\n        title=\"data-hazards-for-branches\"\n        src=\"/static/b9b498d12774561e8e34709cb3d84e15/5a190/data-hazards-for-branches.png\"\n        srcset=\"/static/b9b498d12774561e8e34709cb3d84e15/772e8/data-hazards-for-branches.png 200w,\n/static/b9b498d12774561e8e34709cb3d84e15/e17e5/data-hazards-for-branches.png 400w,\n/static/b9b498d12774561e8e34709cb3d84e15/5a190/data-hazards-for-branches.png 800w,\n/static/b9b498d12774561e8e34709cb3d84e15/764be/data-hazards-for-branches.png 806w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>Can resolve using forwarding</li>\n<li>\n<p>If a comparison register is a destination of preceding ALU instruction or 2nd preceding load instruction</p>\n<ul>\n<li>Need 1 stall cycle\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 796px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1156ba08ad19d66aeb0d1fe583e36644/d48f1/data-hazards-for-branches-1-stall.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQY012Q63KCQAyFef+Ha5UFWRBFxkIpgpSLwrLAabIoP5qZTGCS/XJOLK01Ho8HpnnG8/lEnudYlgVN00CGIcLTGfJI9Rxh5zgQ7gHi4KGpa3DwLOf722JgTc1RT2jaFkVRYBxHDH2PLL/hconheBJHAtsv2KfjIklTs3Sapg1qgPw4yzIMVFsC8lBZlnjHjRQLBpJChnl+gA/boRTwpIRSyszN5NAAe1KyqtLoqTmocYO9rXRdhyiOsXc9+GTfJ3hAmXxniJOU+u32xuIN5f1OljXUuCafgZXzVg7+/6Wz/NwKfJHVQxDCJtWnKIIrfcTXq2EoNawKjeWXun4YjM0rDTHof9RthyA8E/RINcROCLqti71wUFUV/gDwwMWy45JDzQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"data-hazards-for-branches-1-stall\"\n        title=\"data-hazards-for-branches-1-stall\"\n        src=\"/static/1156ba08ad19d66aeb0d1fe583e36644/d48f1/data-hazards-for-branches-1-stall.png\"\n        srcset=\"/static/1156ba08ad19d66aeb0d1fe583e36644/772e8/data-hazards-for-branches-1-stall.png 200w,\n/static/1156ba08ad19d66aeb0d1fe583e36644/e17e5/data-hazards-for-branches-1-stall.png 400w,\n/static/1156ba08ad19d66aeb0d1fe583e36644/d48f1/data-hazards-for-branches-1-stall.png 796w\"\n        sizes=\"(max-width: 796px) 100vw, 796px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>If a comparison register is a destination of immediately preceding load instruction</p>\n<ul>\n<li>Need 2 stall cycles\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 778px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/914bcfdd623fda500f59ad1fe5467004/20982/data-hazards-for-branches-2-stall.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQUlEQVQoz3WR246CMBRF+f8vmwcz3kaRi+VWGVrAUQShFNhzwImDDzZpGhKyzjp7G0opdP2Atm1xu93Q9z26rkOWZYjiGCLNwOlNpETITwgijvg7wb2qMJ5hGF5eoywraIIURYEg8CfweJnnYbM3YTkuVl87mJaFxXKFj8Un1vR9PudP0BxqSJqsWo1aaQK/TiuuVziMEXgP2z2ChRGCUww/5DgcGYQQ00ZzsHG5XNDqDg1BGzKbT2yaBmmeQ8gUcSKxJeOjH4AFIUz3AfyhzbTW/0AhHob3RpFli3enqO4wbYeuDYtst5aNJEmwOVjgPHr+NxmOwJamKDIsyxI5WdV1/bKKpqLG9U4k4Ho+1uaBMg+wpDwtx8GehkkyNmSaTsAR1lDjYzkxtVrNWpzHIPMzZRjBZh6ZcezI1KE8zT/gLwTQE/sSPUgJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"data-hazards-for-branches-2-stall\"\n        title=\"data-hazards-for-branches-2-stall\"\n        src=\"/static/914bcfdd623fda500f59ad1fe5467004/20982/data-hazards-for-branches-2-stall.png\"\n        srcset=\"/static/914bcfdd623fda500f59ad1fe5467004/772e8/data-hazards-for-branches-2-stall.png 200w,\n/static/914bcfdd623fda500f59ad1fe5467004/e17e5/data-hazards-for-branches-2-stall.png 400w,\n/static/914bcfdd623fda500f59ad1fe5467004/20982/data-hazards-for-branches-2-stall.png 778w\"\n        sizes=\"(max-width: 778px) 100vw, 778px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Dynamic Branch Prediction</p>\n<ul>\n<li>In deeper and superscalar pipelines, branch penalty is more significant</li>\n<li>\n<p>Use dynamic prediction</p>\n<ul>\n<li>Branch prediction buffer (aka branch history table)</li>\n<li>Indexed by recent branch instruction addresses</li>\n<li>Stores outcome (taken/not taken)</li>\n<li>\n<p>To execute a branch</p>\n<ul>\n<li>Check table, expect the same outcome</li>\n<li>Start fetching from fall-through or target</li>\n<li>If wrong, flush pipeline and flip prediction</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>1-Bit Predictor: Shortcoming</p>\n<ul>\n<li>\n<p>Inner loop branches mispredicted twice</p>\n<ul>\n<li>Mispredict as taken on last iteration of inner loop</li>\n<li>Then mispredict as not taken on first iteration of inner loop next time around</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>2-Bit predictor</p>\n<ul>\n<li>Only change prediction on two successive mispredicitions\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/724905496034b683d42a9853d3d23cb0/bf286/2-bit-predictor.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACFklEQVQoz51T+U8aURDmf7dHUu2hIC3pkdQGg9HUVBKUth6UpgdSDQZcQZBy7QG7b5ddWGEPvr73yIq1tj90ksmbfZmd+b6Z74VAbTKZwPN8uNwn/GR3/3Lf/zNmFgoCZvblEEN7AJqC/zFWK8QCopvYz5aR2MhhZfUzUu+L+NmQeZLruhgOh7Cp+z5D7kMjAwiVLgolGcVTBY0moXneFOHlaIzl51nMze9h7sEO97sLe7j3cBdCuQXHddARJYiSjLEzpj/3sLVTxtrbY7xZ+4b4eg4byRJyRy2GESHWNZkq4HH0E+4/+oA782kshDN4vfoVsqLzrioxoBsmH4Tet/El18T27jnepUpIpgV8zNRQrfemCAP+PbWP81oXlaqCdkej9NxgMJy257mzWds2JElDs03QFnUYtFlgVwWtgQlRbKPdakLXCa4v66YZhgFFkUEIgdE36KnNCjLKB5ksnsZeIBx5hshyDJFoDJubSaiqBsdxKBoRsixTpA5VgU2RdVASznBSLHGvVGt0UWRacDQa4eWrFTxZimIxHOVFl+i5SL+FswqoJKH0NKiajtHYhdxV6WYF5PI/cJg/wvfDPI4LJ2i0WjPZ9FQV+wcZJBLriMcTSG2ncVGvX9GwrAGXTqA1y7Lowrp01iI6kkSbET7n34TNLizLhGn2Oc3rYr0t/quwg+fjeR4YfeYsDu6DxJvxbc7sF+j+fU5VIiLMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2-bit-predictor\"\n        title=\"2-bit-predictor\"\n        src=\"/static/724905496034b683d42a9853d3d23cb0/5a190/2-bit-predictor.png\"\n        srcset=\"/static/724905496034b683d42a9853d3d23cb0/772e8/2-bit-predictor.png 200w,\n/static/724905496034b683d42a9853d3d23cb0/e17e5/2-bit-predictor.png 400w,\n/static/724905496034b683d42a9853d3d23cb0/5a190/2-bit-predictor.png 800w,\n/static/724905496034b683d42a9853d3d23cb0/c1b63/2-bit-predictor.png 1200w,\n/static/724905496034b683d42a9853d3d23cb0/29007/2-bit-predictor.png 1600w,\n/static/724905496034b683d42a9853d3d23cb0/bf286/2-bit-predictor.png 1688w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n<li>\n<p>Calculating the Branch Target</p>\n<ul>\n<li>\n<p>Even with predictor, still need to calculate the target address</p>\n<ul>\n<li>1-cycle penalty for a taken branch</li>\n</ul>\n</li>\n<li>\n<p>Branch target buffer</p>\n<ul>\n<li>Cache of target addresses</li>\n<li>\n<p>Indexed by PC when instruction fetched</p>\n<ul>\n<li>If hit and instruction is branch predicted taken, can fetch target immediately</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>4.9 Exceptions</h3>\n<ul>\n<li>\n<p>Exceptions and Interrupts</p>\n<ul>\n<li>\n<p>\"Unexpected\" events requiring change in flow of control</p>\n<ul>\n<li>Different ISAs use the terms differently</li>\n</ul>\n</li>\n<li>\n<p>Exception</p>\n<ul>\n<li>\n<p>Arises within the CPU</p>\n<ul>\n<li>e.g., undefined opcode, overflow, syscall, ...</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Interrupt</p>\n<ul>\n<li>From an external I/O controller</li>\n</ul>\n</li>\n<li>\n<p>Trap (Software Interrupt)</p>\n<ul>\n<li>System call을 사용할 때 발생, 소프트웨어가 명령어를 수행할 때 interrupt가 발생하는 것</li>\n</ul>\n</li>\n<li>Dealing with them without sacrificing performance is hard</li>\n</ul>\n</li>\n<li>\n<p>Handling Exceptions</p>\n<ul>\n<li>In MIPS exceptions managed by a System Control Coprocessor (CP0)</li>\n<li>\n<p>Save PC of offending (or interrupted) instruction</p>\n<ul>\n<li>In MIPS: Exception Program Counter (EPC)</li>\n</ul>\n</li>\n<li>\n<p>Save indication of the problem</p>\n<ul>\n<li>In MIPS: Cause register</li>\n<li>\n<p>We'll assume 1-bit</p>\n<ul>\n<li>0 for undefined opcode,1 for overflow</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Jump to handler at 8000 00180</li>\n</ul>\n</li>\n<li>\n<p>An Alternate Mechanism</p>\n<ul>\n<li>\n<p>Vectored Interrupts</p>\n<ul>\n<li>Handler address determined by the cause</li>\n</ul>\n</li>\n<li>\n<p>Example:</p>\n<ul>\n<li>Undefined opcode: C000 0000</li>\n<li>Overflow: C000 0020</li>\n<li>...: C000 0040</li>\n</ul>\n</li>\n<li>\n<p>Instructions either</p>\n<ul>\n<li>Deal with the interrupt, or</li>\n<li>Jump to real handler</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Handler Actions</p>\n<ul>\n<li>Read cause, and transfer to relevant handler</li>\n<li>Determine action required</li>\n<li>\n<p>If restartable</p>\n<ul>\n<li>Take corrective action</li>\n<li>use EPC to return to program</li>\n</ul>\n</li>\n<li>\n<p>Otherwise</p>\n<ul>\n<li>Terminate program</li>\n<li>Report error using EPC, cause, ...</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Exceptions in a Pipeline</p>\n<ul>\n<li>Another form of control hazard</li>\n<li>\n<p>Consider overflow on add in EX stage</p>\n<ul>\n<li>add $1, $2, $1</li>\n<li>Prevent $1 from being clobbered</li>\n<li>Complete previous instructions</li>\n<li>Flush add and subsequent instructions</li>\n<li>Set Cause and EPC register values</li>\n<li>Transfer control to handler</li>\n</ul>\n</li>\n<li>\n<p>Similar to mispredicted branch</p>\n<ul>\n<li>Use much of the same hardware</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Pipeline with Exceptions\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/821f78803c2d5e8e8f9caf24d060ec71/0d6fe/pipeline-with-exceptions.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACAklEQVQ4y41T25LbIBTL/39hZjbbJk6yvoKxwXc7qoSTbLdPZeYYAwchicMB/9G27cHYYr8sK9Z1w+Px+BFq6g9KrJ1HCD1CpxgQ+gGe4zZ0cG2HaV4JtGEhUBNGzo8R9DU3c/0FeliWBa0P3LTEEFhpHW5Fg9x6nO8VfD9FZmLYDyNm/r8Yqc3E+AZcV3QEeY53UDILPZl0E0zdRJbWBfTjAsPDXBviAYR8WiILth1wnmdUxmIYJ0zThLb13GSRlTW+coOiqpEW7G1AXlRIs5JrFtfUYKRUHSZFAhepg0Bc09K7DqaqkGU5rCXYV4rTxwfq2qGsDOcciqJAxX+pEJAAZIHlHbwvRYBiWDuHvu/hvcf1emUkuN1ucWyNgavreFgIIYbleBhHLFTYMmcYhl1y0zQ4ff5CmmbckJERJaYpyrIkK4uRmwSqOR1kyF45WV7AkIgjkbwoybzaAVcaOk4zTZ4hP3VAkiS4XC6xF2vNS67kW4bsKcoqjr1vo2VSutchP8uzUNWULKmn0ymyFAMxTZIL7vcv1mDPW125xnJ6yleVvAH1iUXKUD/QZIFInqQZYyLg+XzG8XhEaWpUrsPn7wRN25JhiKzfgD8f2XddtUyWfwpJ1iGSLWYqp+s9i35Krmfdypo3w3/fpACV8Hd0tEKXEyUquh1EL03567q/nj/FMeueqK57ewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pipeline-with-exceptions\"\n        title=\"pipeline-with-exceptions\"\n        src=\"/static/821f78803c2d5e8e8f9caf24d060ec71/5a190/pipeline-with-exceptions.png\"\n        srcset=\"/static/821f78803c2d5e8e8f9caf24d060ec71/772e8/pipeline-with-exceptions.png 200w,\n/static/821f78803c2d5e8e8f9caf24d060ec71/e17e5/pipeline-with-exceptions.png 400w,\n/static/821f78803c2d5e8e8f9caf24d060ec71/5a190/pipeline-with-exceptions.png 800w,\n/static/821f78803c2d5e8e8f9caf24d060ec71/0d6fe/pipeline-with-exceptions.png 1115w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Exception Properties</p>\n<ul>\n<li>\n<p>Restartable exceptions</p>\n<ul>\n<li>Pipeline can flush the instruction</li>\n<li>\n<p>Handler executes, then returns to the instruction</p>\n<ul>\n<li>Refetched and executed from scratch</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>PC saved in EPC register</p>\n<ul>\n<li>Identifies causing instruction</li>\n<li>\n<p>Actually PC + 4 is saved</p>\n<ul>\n<li>Handler must adjust</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Exception Example\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/82e12684f17faf7686e912279c16e17d/11b93/exception-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACVElEQVQoz1VT2XLTQBDM/38BRfEMxTshTyQhAXI5lm058iVbsWVLsu77tNTMTjCGrdrSama2p3tm9qzrOhxXXdcoy5LPwl7XFduO/23bsr+qKrYdDgccmobtwiZizo4OP4yxt114no88z5GmGWzHheN4iJICWVEjTgtYtgdtayPLSyQUEycZwjhFFMechAFF1iQr6EKJnC4GUQrTiaAZIV4NH8rKQhBnzKJuWjoXzOqoraobtv8FrCmwqmoU5BCrObTwgghbK4LpxsTIw3i2w3rnwXAzKOqelRSFKE/HicqqPgGmaYogjJh6URQcrG8N3D5o2JoudvsId4MdHiQV0/kCM83HjycVXpixMnmikbr8BJgkMVMOowS+72EwHGE2n8N1Pdzd3+PpWcJytYYkDWlLFJ+hP3ihOr5JH8pTUtWdAC3LwmQ6h2Fa6D0/4/LqGtPpDPu9hY+fPuPd+w+UYIbHpx41zsH4RcGX8ws4ro80SZjASH5B09RvgK7roteXoOs6vl1e4fzrBVaaBtu20Se7LI+pBFvc3Nzy5c12h5+/7rBQVzAMA+OxghFtBvx3Do8dH8kyg0wmE5imSUUvsViozD6kCRBrOJKhva4RBgF6vT6XSzSIGTY0nEV56pTIvFytoKoqMxAKFEXB9fdrPDz2aC5zPBLIeqOjIgLSYATHC06DLbosmAmubdtxAjHsAkj4sizjryjJcrmEpu8xVTfY6Dv4QQjXD+D5ITfof8l/zl3XsjOKIsT0AhIqvNi+7yMgiUHg02h59B/QS0l4HsW4Cazf3qGGYCXdiTEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exception-example\"\n        title=\"exception-example\"\n        src=\"/static/82e12684f17faf7686e912279c16e17d/5a190/exception-example.png\"\n        srcset=\"/static/82e12684f17faf7686e912279c16e17d/772e8/exception-example.png 200w,\n/static/82e12684f17faf7686e912279c16e17d/e17e5/exception-example.png 400w,\n/static/82e12684f17faf7686e912279c16e17d/5a190/exception-example.png 800w,\n/static/82e12684f17faf7686e912279c16e17d/11b93/exception-example.png 1124w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/29a8cd6ce7133db5074a7d0802b0df64/76a99/exception-example-flushed.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAACVUlEQVQoz1VSa2/aUAzl//+dtdW+rdrWlYJW8hgDkkACeZLk5p2QFzn1vQits2TZsZzjY98zm6YJ3Kq6QRwz8hhN06CNMrAoQhpEaPIabT+iI2d+DGfvos0bdFkFdvTRsBxFVYFjzThY217A0gKMGoqS5yX8IIFhuHCsAMYpREb1tuvRVy3yqLjllw4jfXct5cP4D7DrOmIwiCK38TohiBLYYQ4/qWC6McKkwDlOUXcjfFahuVyo84qbTf8DNk2NJCtQVg2GoRfTI1r9x+setp/CIbZz2cVCceCeGdywgLRxqJ5R/wiXzpCXtYAWgEWR08SOVs0QBAH2+wM0TceB1t1sdrC9EHvKlbWO09Gi3hYb3cHRCQXIu6IjyT8BMhYjYimyvMRut8Py9zs22y3iKMTD4xMWyyV8z4GsyDhHsTjRer2GsTcFiKqqOJhHUReAtm3j+88XmJaFLw+PeHj6ir+bLZIkwet8LnLf9zF/e4OmG8iKEoq6xkr+gyxLIckqXn69ISJVCMDpehWy4Uc9nU5YSTIkctM04bouLvQAITWvJAlBGKOkXk0zIClr9MTqfSXD80OM44jZXYfDeBU642YdbaxWEv2kiZsyxqAbBr49P1M8oG4HOo1OA1RiM2GxWMJ2vBugEDWJ8tK2uJJcuGTKskIYhvA8T6zNna+j6ToURYVFMlK2JrbaXjyQdXKIOUPf9zfAK618Z3o3Pi3Pc9R1LQbymKapuGVwPsNxfRL/mU4Rk0pKklwl1p99BuI5/7zFiTQ2iJf77Lx2815EPpgTupP6ANvmiHSAKJxSAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"exception-example-flushed\"\n        title=\"exception-example-flushed\"\n        src=\"/static/29a8cd6ce7133db5074a7d0802b0df64/5a190/exception-example-flushed.png\"\n        srcset=\"/static/29a8cd6ce7133db5074a7d0802b0df64/772e8/exception-example-flushed.png 200w,\n/static/29a8cd6ce7133db5074a7d0802b0df64/e17e5/exception-example-flushed.png 400w,\n/static/29a8cd6ce7133db5074a7d0802b0df64/5a190/exception-example-flushed.png 800w,\n/static/29a8cd6ce7133db5074a7d0802b0df64/76a99/exception-example-flushed.png 1117w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Multiple Exceptions</p>\n<ul>\n<li>\n<p>Pipelining overlaps multiple instructions</p>\n<ul>\n<li>Could have multiple exceptions at once</li>\n</ul>\n</li>\n<li>\n<p>Simpe approach: deal with exception from earliest instruction</p>\n<ul>\n<li>Flush subsequent instructions</li>\n<li>\"Precise\" exceptions</li>\n</ul>\n</li>\n<li>\n<p>In complex pipelines</p>\n<ul>\n<li>Multiple instructions issued per cycle</li>\n<li>Out-of-order completion</li>\n<li>Maintaining precise exceptions is difficult</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Imprecise Exceptions</p>\n<ul>\n<li>\n<p>Just stop pipeline and save state</p>\n<ul>\n<li>Including exception cause(s)</li>\n</ul>\n</li>\n<li>\n<p>Let the handler work out</p>\n<ul>\n<li>Which instruction(s) had exceptions</li>\n<li>\n<p>Which to complete or flush</p>\n<ul>\n<li>May require \"manual\" completion</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Simplifies hardware, but more complex handler software</li>\n<li>Not feasible for complex multiple-issue out-of-order pipelines</li>\n</ul>\n</li>\n</ul>\n<h3>4.10 Parallelism via Instructions</h3>\n<ul>\n<li>\n<p>Instruction-Level Parallelism (ILP)</p>\n<ul>\n<li>Pipelining: executing multiple instructions in parallel</li>\n<li>\n<p>To increase ILP</p>\n<ul>\n<li>\n<p>Deeper pipeline</p>\n<ul>\n<li>Less work per stage -> shorter clock cycle</li>\n</ul>\n</li>\n<li>\n<p>Multiple issue</p>\n<ul>\n<li>Replicate pipeline stages -> multiple pipelines</li>\n<li>Start multiple instructions per clock cycle</li>\n<li>CPI &#x3C; 1, so use Instructions Per Cycle (IPC)</li>\n<li>\n<p>E.g., 4GHz 4-way multiple-issue</p>\n<ul>\n<li>16 BIPS, peak CPI = 0.25, peak IPC = 4</li>\n</ul>\n</li>\n<li>But dependencies reduce this in practice</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Multiple Issue</p>\n<ul>\n<li>\n<p>Static multiple issue</p>\n<ul>\n<li>Compiler groups instructions to be issued together</li>\n<li>Packages them into \"issue slots\"</li>\n<li>Compiler detects and avoids hazards</li>\n</ul>\n</li>\n<li>\n<p>Dynamic multiple issue</p>\n<ul>\n<li>CPU examines instruction stream and cooses instructinos to issue each cycle</li>\n<li>Compiler can help by reordering instructions</li>\n<li>CPU resolves hazards using advanced techniques at runtime</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Speculation</p>\n<ul>\n<li>\n<p>\"Guess\" what to do with an instruction</p>\n<ul>\n<li>Start operation as soon as possible</li>\n<li>\n<p>Check whether guess was right</p>\n<ul>\n<li>If so, complete the operation</li>\n<li>If not, roll-back and do the right thing</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Common to static and dynamic multiple issue</li>\n<li>\n<p>Examples</p>\n<ul>\n<li>\n<p>Speculate on branch outcome</p>\n<ul>\n<li>Roll back if path taken is different</li>\n</ul>\n</li>\n<li>\n<p>Speculate on load</p>\n<ul>\n<li>Roll back if location is updated</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Compiler/Hardware Speculation</p>\n<ul>\n<li>\n<p>Compiler can reorder instructions</p>\n<ul>\n<li>e.g., move load before branch</li>\n<li>Can include \"fix-up\" instructions to recover from incorrect guess</li>\n</ul>\n</li>\n<li>\n<p>Hardware can loock ahead for instructions to execute</p>\n<ul>\n<li>Buffer results until it determines they are actually needed</li>\n<li>Flush buffers on incorrect speculation</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Speculation and Exceptions</p>\n<ul>\n<li>\n<p>What if exception occurs on a speculatively executed instruction?</p>\n<ul>\n<li>e.g., speculative load before null-pointer check</li>\n</ul>\n</li>\n<li>\n<p>Static speculation</p>\n<ul>\n<li>Can add ISA support for deferring exceptions</li>\n</ul>\n</li>\n<li>\n<p>Dynamic speculation</p>\n<ul>\n<li>Can buffer exceptions untill instruction completion (which may not occur)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Static Multiple Issue</p>\n<ul>\n<li>\n<p>Compiler groups instructions into \"issue packets\"</p>\n<ul>\n<li>Group of instructions that can be issued on a signle cycle</li>\n<li>Determined by pipeline resources required</li>\n</ul>\n</li>\n<li>\n<p>Think of an issue packet as a very long instruction</p>\n<ul>\n<li>\n<p>Specifies multiple concurrent operations</p>\n<ul>\n<li>Very Long Instruction Word (VLIW)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Scheduling Static Multiple Issue</p>\n<ul>\n<li>\n<p>Compiler must remove some/all hazards</p>\n<ul>\n<li>Reorder instructions into issue packets</li>\n<li>No dependencies with a packet</li>\n<li>\n<p>Possibly some dependencies between packets</p>\n<ul>\n<li>Varies between ISAs; compiler must know!</li>\n</ul>\n</li>\n<li>Pad with nop if necessary</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>MIPS with Static Dual Issue</p>\n<ul>\n<li>\n<p>Two-issue packets</p>\n<ul>\n<li>One ALU/branch instruction</li>\n<li>One load/store instruction</li>\n<li>\n<p>64-bit aligned</p>\n<ul>\n<li>ALU/branch, then load/store</li>\n<li>Pad an unused instruction with nop\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91def4e51a5f4dc37b237305f938b0a0/36c33/mips-with-static-dual-issue.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABE0lEQVQY0z2RSW+EMBSD+f8/qLceKlUaaQ4jCgwDJOz7UtYicXPjVOnBItJzvmcHS7xCOI4DKSWiMIJQej19pFmKtm3R9z26rsM4jsiyTHs9z9PizMyHYUBZlrCit0+0nkT9FJDvN4Qfd2R3B5MCVFWlzTTym6YpgiCAbduIIrVcCBzHgWmasO878jyHVdy+8C0KDGWDwHFhPx4Y1NYfZeR2mgnmmeCiKDSIaQnftk3PzvPUPisVMRomGXrIWML3ffQq/rquWJZFiyBTiZfqutYw1jYLruv6q5yoGqYS35BvxDM3GyBTUk3T/Iv14zjWIpB3kiSBxd6Mr4HqXVzX1RWYcJ5nLZ4J5E+ij0BTn0kJNPBfryW1sgAPCbIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mips-with-static-dual-issue\"\n        title=\"mips-with-static-dual-issue\"\n        src=\"/static/91def4e51a5f4dc37b237305f938b0a0/5a190/mips-with-static-dual-issue.png\"\n        srcset=\"/static/91def4e51a5f4dc37b237305f938b0a0/772e8/mips-with-static-dual-issue.png 200w,\n/static/91def4e51a5f4dc37b237305f938b0a0/e17e5/mips-with-static-dual-issue.png 400w,\n/static/91def4e51a5f4dc37b237305f938b0a0/5a190/mips-with-static-dual-issue.png 800w,\n/static/91def4e51a5f4dc37b237305f938b0a0/36c33/mips-with-static-dual-issue.png 946w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>MIPS with Static Dual Issue (Datapath)\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e3d300f07bb4cf1d3a29864db73e2da2/d7ba6/mips-with-static-dual-issue-datapath.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABnUlEQVQoz3VS2Y7bMAz0/39dH/rSLVokXQe+LduydfjILIdbpUY2NUBQJjmD4UjZ/X7H/751XR+xbRv2fdc6Ma+CX5YGCEhBIGvLsmiM46g5EZ6/syCes6Sk6zoFlmUJYwxijPDOYZomOMkkS+G9x3EcX8geCqmKBBwmaSKx84y6bhBCUIV930t/QlVVOmOtVSz7nFdCMs8KrFVZWu/PrcStbPF+KzBIjWDOObegbRqZG5Q0KWZfV2aBjev1qqR5nqOSfCtqXPNCCZdZyFyAXZyQW5R1i8VH2UDIxSqqI+nDw+eb5foEffv+hp+/LmiMxTDN6MyA3oxwQTwfndYul4v4XmCyM3bxNXt19fSl6w3efucIccXkxN/jDicq9v3Q87od6p1aJFaMQs5elkieCc0w4IeoiwKKMSiY1tBnbkGr6CnP7Jlh+lR4vvIzofdBFL6rZ5NddCUz8FlVmBcPH6LUrKiWF+C8WrSu21cPz0pzuRgCogxydUYURZ5vVAjD37yKgKLu9D979epT5hp126PtBzTdv2ifQ/qco4cfsGij+XozCpsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mips-with-static-dual-issue-datapath\"\n        title=\"mips-with-static-dual-issue-datapath\"\n        src=\"/static/e3d300f07bb4cf1d3a29864db73e2da2/5a190/mips-with-static-dual-issue-datapath.png\"\n        srcset=\"/static/e3d300f07bb4cf1d3a29864db73e2da2/772e8/mips-with-static-dual-issue-datapath.png 200w,\n/static/e3d300f07bb4cf1d3a29864db73e2da2/e17e5/mips-with-static-dual-issue-datapath.png 400w,\n/static/e3d300f07bb4cf1d3a29864db73e2da2/5a190/mips-with-static-dual-issue-datapath.png 800w,\n/static/e3d300f07bb4cf1d3a29864db73e2da2/d7ba6/mips-with-static-dual-issue-datapath.png 1107w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Hazards in the Dual-Issue MIPS</p>\n<ul>\n<li>More instructions executing in parallel</li>\n<li>\n<p>EX data hazard</p>\n<ul>\n<li>Forwarding avoided stalls with single-issue</li>\n<li>\n<p>Now can't use ALU result in load/store in same packet</p>\n<div class=\"gatsby-highlight\" data-language=\"mips\"><pre class=\"language-mips\"><code class=\"language-mips\">add $t0, $s0, $s1\nload $s2, 0($t0)</code></pre></div>\n<ul>\n<li>split into two packets, effectively a stall</li>\n</ul>\n</li>\n<li>\n<p>Load-use hazard</p>\n<ul>\n<li>Still one cycle use latency, but now two instructions</li>\n</ul>\n</li>\n<li>More aggressive scheduling required</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Scheduling Example</p>\n<ul>\n<li>\n<p>Schedule this for d ual-issue MIPS\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9d312e387e32531c677c2b8b4c4b8893/599ea/scheduling-example.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABpklEQVQoz0VSi26CQBDk/7/OIqAC5XiIwilvENCa6c2mWJINhN153OxZXdchyzI8Hg/0fQ8+j/mJZVmQ57nU6/WS//M8oyxLXK9X3G43qXEckaapcPDb4hBJh3HA3t5D1xrH6oR2MEKXAufzGXEcG9IfARyPR7iuiyRJ4DgOiqKQ79PphPv9Dgt/zzRNCIMQ/dQhqDxD2CIMvxFF0cc5CcMwlCIJ3+zTKfHruv4Tcni3+0Lf1RjuiSHp4HmeOOQwq2kacRIEgbg8HA5CTNeMgTMWWZ/Ppxyb4HVd0Dcaw9DL8OWSi8PNCYt5bTky07quJef3+w2LGbCxZeM4Lkp9Ezdt24oQQ2detm0LEXtVVUmfuRFL1+SxfN+X0DPjjuSNGaxZRpVAukvTTGYKrXExMwQHJj+KbY4pQLcWVXhlqKLiCLoyxLwaBkgB3gISE7wuK5Z5kSu1FXvbUrQRtLgM5siA03OKvFLQ5hjXohRlknKwqQ3pZCIYO3OCWhwRt7mksBByEby83GgcK2Tx92eLSqnPNlWkECQ+fOXDcz35Txzz5Rx5mOcvWIDpYgsKUTcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"scheduling-example\"\n        title=\"scheduling-example\"\n        src=\"/static/9d312e387e32531c677c2b8b4c4b8893/5a190/scheduling-example.png\"\n        srcset=\"/static/9d312e387e32531c677c2b8b4c4b8893/772e8/scheduling-example.png 200w,\n/static/9d312e387e32531c677c2b8b4c4b8893/e17e5/scheduling-example.png 400w,\n/static/9d312e387e32531c677c2b8b4c4b8893/5a190/scheduling-example.png 800w,\n/static/9d312e387e32531c677c2b8b4c4b8893/c1b63/scheduling-example.png 1200w,\n/static/9d312e387e32531c677c2b8b4c4b8893/29007/scheduling-example.png 1600w,\n/static/9d312e387e32531c677c2b8b4c4b8893/599ea/scheduling-example.png 1926w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>IPC = 5/4 = 1.25 (c.f. peak IPC = 2)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Loop Unrolloing</p>\n<ul>\n<li>pass</li>\n</ul>\n</li>\n<li>\n<p>Dynamic Multiple Issue</p>\n<ul>\n<li>\"Superscalar\" processors</li>\n<li>\n<p>CPU decides whether to issue 0, 1, 2, ... each cycle</p>\n<ul>\n<li>Avoiding structural and data hazards</li>\n</ul>\n</li>\n<li>\n<p>Avoids the need for compiler scheduling</p>\n<ul>\n<li>Though it may still help</li>\n<li>Code semantics ensured by the CPU</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Dynamic Pipeline Scheduling</p>\n<ul>\n<li>\n<p>Allow the CPU to execute instructions out of order to avoid stalls</p>\n<ul>\n<li>But commit result to registers in order</li>\n<li>\n<p>Example</p>\n<div class=\"gatsby-highlight\" data-language=\"mips\"><pre class=\"language-mips\"><code class=\"language-mips\">lw $t0, 20($s2)\naddu $t1, $t0, $t2\nsub $s4, $s4, $t3\nslti $t5, $s4, 20</code></pre></div>\n<ul>\n<li>Can start sub while addu is waiting for lw</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Dynamically Scheduled CPU\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2db37644dcbf5c4078cbf3ad56eefa4/cf8f8/dynamically-scheduled-cpu.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACG0lEQVQ4y31Ua29SQRC9//9DE2OiJpr4+GSiprGWVGppsLSxolSLXmqlYKCFyxvu3veL45wlEFqJk2zmLjtzzpnZWQyIzefzW2uT/e9sLQrGesLSkiSB7/vwPE977peWpiniOEYqv02Vg/ffa3hz8gX71Qv4YQRjnTnLMv3tui6azSZM00Sr1dLAyzgSTKdT7ZXn4235G15+/IR3X8/hBeECcAnGoCiKoJRaqeNyHAdhGCIIgtstkJy7bVkp7Pf7qNfraLfbaDQaGA6HOqjT6eg9lfJ8MBgIeIRYiMe2wqvTMzw/PMFr8a4QrnrIMpnMcuipkkTc93o9TCYTWFYXtqj1wljnBNLLw5+/sHtaQdG8hC8kBpvMYCayTC6WuCxvNptpAu6pjsTKcTVwJrl3TZds27YGHI1GGoCeiTSeWZalidgGHcuY8XgxCVK+XqIuoMJVQ6XBjpRJJQQlAC+CXikbgSTPZuKjBMoPJC7ERMbmxdFnPCmU8OjDEfIyOgZvN83m4H0l8s2ZIxDLplKqcAkexUikxEg851Crl7F5KhfyIHeAezt55CpVGNXWDe7nCngsDA/zRVx2LIT+opfdblcrtjlG4kei6Fqm4ap9jZ6QpWkG2/X0PHK5otywpjaK1RpKPy5wXPuNkbPoHVVyJulpSpQ+K5Wxtb2HrZ19HJj1jY/P2Pwi/zU2vHBuYk9exG75DJWrP9j0P/AX+frcjqy0fQkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"dynamically-scheduled-cpu\"\n        title=\"dynamically-scheduled-cpu\"\n        src=\"/static/b2db37644dcbf5c4078cbf3ad56eefa4/5a190/dynamically-scheduled-cpu.png\"\n        srcset=\"/static/b2db37644dcbf5c4078cbf3ad56eefa4/772e8/dynamically-scheduled-cpu.png 200w,\n/static/b2db37644dcbf5c4078cbf3ad56eefa4/e17e5/dynamically-scheduled-cpu.png 400w,\n/static/b2db37644dcbf5c4078cbf3ad56eefa4/5a190/dynamically-scheduled-cpu.png 800w,\n/static/b2db37644dcbf5c4078cbf3ad56eefa4/c1b63/dynamically-scheduled-cpu.png 1200w,\n/static/b2db37644dcbf5c4078cbf3ad56eefa4/29007/dynamically-scheduled-cpu.png 1600w,\n/static/b2db37644dcbf5c4078cbf3ad56eefa4/cf8f8/dynamically-scheduled-cpu.png 2234w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></li>\n<li>\n<p>Register Renaming</p>\n<ul>\n<li>Reservation stations and reorder buffer effectively provide register renaming</li>\n<li>\n<p>On instruction issue to reservation station</p>\n<ul>\n<li>\n<p>If operand is available in register file or reorder buffer</p>\n<ul>\n<li>Copied to reservation station</li>\n<li>No longer required in the register; can be overwritten</li>\n</ul>\n</li>\n<li>\n<p>If operand is not yet available</p>\n<ul>\n<li>It will be provided to the reservation station by a function unit</li>\n<li>Register update may not be required</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Speculation</p>\n<ul>\n<li>\n<p>Predict branch and continue issuing</p>\n<ul>\n<li>Don't commit until branch outcome determined</li>\n</ul>\n</li>\n<li>\n<p>Load speculation</p>\n<ul>\n<li>\n<p>Avoid load and cache miss delay</p>\n<ul>\n<li>predict the effective address</li>\n<li>predict loaded value</li>\n<li>Load before completing outstanding stores</li>\n<li>Bypass stored values to load unit</li>\n</ul>\n</li>\n<li>Don't commit load until speculation cleared</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Why Do Dynamic Scheduling?</p>\n<ul>\n<li>\n<p>Why not just let the compiler schedule code?</p>\n<ul>\n<li>\n<p>Not all stalls are predicable</p>\n<ul>\n<li>e.g., cache misses</li>\n</ul>\n</li>\n<li>\n<p>Can't always schedule around branches</p>\n<ul>\n<li>Branch outcome is dynamically determined</li>\n</ul>\n</li>\n<li>Different implementations of an ISA have different latencies and hazards</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Does Multiple Issue Work?</p>\n<ul>\n<li>Yes, but not as much as we'd like</li>\n<li>Programs have real dependencies that limit ILP</li>\n<li>\n<p>Some depnedencies are hard to eliminate</p>\n<ul>\n<li>e.g., pointer aliasing</li>\n</ul>\n</li>\n<li>\n<p>Some parallelism is hard to expose</p>\n<ul>\n<li>Limited window size during instruction issue</li>\n</ul>\n</li>\n<li>\n<p>Memory delays and limited bandwith</p>\n<ul>\n<li>Hard to keep pipelines full</li>\n</ul>\n</li>\n<li>Speculation can help if done well</li>\n</ul>\n</li>\n<li>\n<p>Power Efficiency</p>\n<ul>\n<li>Complexity of dynamic scheduling and speculations requires powew</li>\n<li>Multiple simpler cores may be better</li>\n</ul>\n</li>\n</ul>\n<h3>4.11 Real Stuff: The ARM Cortex-A8 and Intel COre i7 Pipelines</h3>\n<ul>\n<li>pass</li>\n</ul>\n<h3>4.12 Instruction-Level Parallelism and Matrix Multiply</h3>\n<ul>\n<li>pass</li>\n</ul>\n<h3>4.14 Fallacies and Pitfalls</h3>\n<ul>\n<li>\n<p>Fallacies</p>\n<ul>\n<li>\n<p>Pipelining is easy (!)</p>\n<ul>\n<li>The basic idea is easy</li>\n<li>\n<p>The devil is in the details</p>\n<ul>\n<li>e.g., detecting data hazards</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Pipelining is independent of technology</p>\n<ul>\n<li>So why haven't we always done pipelining?</li>\n<li>More transistors make more advanced techniques feasible</li>\n<li>\n<p>Pipeline-realted ISA design needs to take account of technology trends</p>\n<ul>\n<li>e.g., predicated instructions</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Pitfalls</p>\n<ul>\n<li>\n<p>Poor ISA design can make pipelining harder</p>\n<ul>\n<li>\n<p>e.g., complex instruction sets (VAX, IA-32)</p>\n<ul>\n<li>Significant overhead to make pipelining work</li>\n<li>IA-32 micro-op approach</li>\n</ul>\n</li>\n<li>\n<p>e.g., complex addressing modes</p>\n<ul>\n<li>Register update side effects, memory indirection</li>\n</ul>\n</li>\n<li>\n<p>e.g., delayed branches</p>\n<ul>\n<li>Advanced pipelines have long delay slots</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3>4.15 Concluding Remarks</h3>\n<ul>\n<li>\n<p>Concluding Remarks</p>\n<ul>\n<li>ISA influences design of datapath and control</li>\n<li>Datapath and control influence design of ISA</li>\n<li>\n<p>Pipelining improves instructino throughput using parallelism</p>\n<ul>\n<li>More instructions completed per second</li>\n<li>Latency for each instruction not reduced</li>\n</ul>\n</li>\n<li>Hazards: structural, data, control</li>\n<li>\n<p>Multiple issue and dynamic scheduling (ILP)</p>\n<ul>\n<li>Dependencies limit achievable parallelism</li>\n<li>Complexity leads to the power wall</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","title":"[컴퓨터구조론] 4. The Processor","date":"2020-09-16"}}}